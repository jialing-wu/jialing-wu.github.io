---
layout: methods-course
title: "Introduction to Network Analysis"
breadcrumb: "Sample"
bilingual: true
---

<style>
/* ══════════════════════════════════════════════════════
   PRESENTATION MODE
   ══════════════════════════════════════════════════════ */

/* Toggle button */
.pres-toggle{
  display:inline-flex;align-items:center;gap:8px;
  font-family:var(--sans);font-size:12px;font-weight:600;
  letter-spacing:.06em;text-transform:uppercase;
  color:var(--gold);background:var(--warm);
  border:1px solid var(--parchment);border-radius:4px;
  padding:8px 18px;cursor:pointer;transition:all .2s;
  margin-bottom:20px;
}
.pres-toggle:hover{background:var(--gold);color:var(--paper);border-color:var(--gold)}
.pres-toggle .pres-icon{font-size:16px}

/* Hide chrome */
body.presenting .sidebar,
body.presenting .sidebar-overlay,
body.presenting .topbar,
body.presenting .page-toc,
body.presenting .pres-toggle,
body.presenting .page-nav,
body.presenting .pres-hide{display:none!important}

body.presenting .layout{display:block}
body.presenting .main{margin:0;padding:0;width:100vw}
body.presenting .content{max-width:100vw!important;padding:0!important;margin:0!important}

/* Slide container */
body.presenting .slide{
  display:none;width:100vw;height:100vh;
  padding:48px 0;box-sizing:border-box;
  overflow-y:auto;background:var(--paper);
}
body.presenting .slide.active{
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
}
/* Max-width centering for all children */
body.presenting .slide > *{
  width:100%;max-width:880px;
  padding-left:40px;padding-right:40px;
  box-sizing:border-box;
}

/* Presentation typography */
body.presenting .slide .slide-num{font-size:11px;margin-bottom:8px}
body.presenting .slide h2{font-size:2.2rem;margin-bottom:20px;line-height:1.25;letter-spacing:-.01em}
body.presenting .slide h3{font-size:1.5rem;margin-bottom:12px}
body.presenting .slide p,
body.presenting .slide li{font-size:1.1rem;line-height:1.9}
body.presenting .slide .method-desc{font-size:1.1rem;line-height:1.9;margin-bottom:16px}
body.presenting .slide .method-analogy{font-size:1.05rem;line-height:1.8}
body.presenting .slide .method-when{font-size:1.05rem;line-height:1.8}

/* Presentation: vis panels */
body.presenting .vis-panel{padding:24px 28px}
body.presenting .vis-panel svg{max-width:420px;margin:0 auto;display:block}
body.presenting .vis-caption{font-size:13px;margin-top:12px}
body.presenting .vis-label{font-size:12px}

/* Presentation: check cards */
body.presenting .check-grid{gap:20px;margin:24px 0}
body.presenting .check-card{padding:22px 20px}
body.presenting .check-icon{width:32px;height:32px;font-size:12px;margin-bottom:12px}
body.presenting .check-title{font-size:14px;margin-bottom:8px}
body.presenting .check-desc{font-size:13.5px;line-height:1.65}

/* Presentation: flow diagram */
body.presenting .flow-step{padding:14px 22px;min-width:130px}
body.presenting .flow-step .flow-title{font-size:15px}
body.presenting .flow-arrow{font-size:22px;padding:0 8px}

/* Presentation: centrality */
body.presenting .cent-btns{margin:12px 0 16px}
body.presenting .cent-btn{font-size:13px;padding:8px 20px}

/* Presentation: step details */
body.presenting .step-item{font-size:1rem;line-height:1.8;padding:6px 16px}

/* Slide counter, ESC hint, progress bar */
body.presenting .slide-counter{
  position:fixed;bottom:24px;right:32px;
  font-family:var(--sans);font-size:13px;
  color:var(--ink-ghost);letter-spacing:.05em;z-index:999;
}
body.presenting .pres-esc{
  position:fixed;top:20px;right:28px;
  font-family:var(--sans);font-size:11px;
  color:var(--ink-ghost);letter-spacing:.05em;
  opacity:.6;z-index:999;
}
body.presenting .pres-progress{
  position:fixed;top:0;left:0;height:3px;
  background:var(--gold);z-index:999;
  transition:width .3s ease;
}

/* ══════════════════════════════════════════════════════
   NORMAL MODE — PAGE-SPECIFIC COMPONENTS
   (all scoped to avoid conflicts with style.css)
   ══════════════════════════════════════════════════════ */

/* Section number badge */
.slide-num{
  font-family:var(--sans);font-size:11px;font-weight:700;
  letter-spacing:.12em;text-transform:uppercase;
  color:var(--gold);margin-bottom:12px;
}

/* ── Visualization panels ─────────────────────────── */
.vis-row{
  display:flex;gap:20px;margin:24px 0;
  flex-wrap:wrap;align-items:stretch;
}
.vis-panel{
  flex:1;min-width:220px;
  background:var(--warm);border:1px solid var(--parchment);
  border-radius:6px;padding:18px 20px;text-align:center;
  display:flex;flex-direction:column;
}
.vis-panel svg{
  max-width:100%;height:auto;margin:4px auto 0;
  display:block;flex:1;min-height:0;
}
.vis-label{
  font-family:var(--sans);font-size:11px;font-weight:700;
  letter-spacing:.1em;text-transform:uppercase;
  color:var(--gold);margin-bottom:8px;flex-shrink:0;
}
.vis-caption{
  font-family:var(--sans);font-size:11.5px;
  color:var(--ink-faded);margin-top:10px;line-height:1.5;flex-shrink:0;
}

/* ── Centrality interactive ───────────────────────── */
.cent-btns{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 16px}
.cent-btn{
  font-family:var(--sans);font-size:12px;font-weight:600;
  padding:6px 16px;border:1px solid var(--parchment);border-radius:4px;
  background:var(--warm);color:var(--ink-faded);cursor:pointer;
  transition:all .2s;
}
.cent-btn:hover,.cent-btn.active{background:var(--gold);color:var(--paper);border-color:var(--gold)}

/* Centrality detail box — override .method-desc base */
#cent-detail-en,
#cent-detail-zh{
  background:var(--warm);
  border-left:3px solid var(--gold);border:1px solid var(--parchment);
  border-left:3px solid var(--gold);
  padding:14px 18px;border-radius:0 4px 4px 0;
  margin:16px 0 12px;
}

/* ── Flow diagram ─────────────────────────────────── */
.flow-row{
  display:flex;align-items:center;gap:0;
  margin:24px 0;flex-wrap:wrap;justify-content:center;
}
.flow-step{
  background:var(--warm);border:1px solid var(--parchment);
  border-radius:6px;padding:12px 18px;text-align:center;min-width:110px;
}
.flow-step .flow-num{font-family:var(--sans);font-size:10px;font-weight:700;color:var(--gold);letter-spacing:.1em}
.flow-step .flow-title{font-family:var(--body);font-size:14px;color:var(--ink);margin-top:4px}
.flow-arrow{font-size:18px;color:var(--gold);padding:0 6px}

/* ── Decision checklist ───────────────────────────── */
.check-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:14px;margin:20px 0}
.check-card{
  background:var(--warm);border:1px solid var(--parchment);
  border-radius:6px;padding:18px 16px;
  text-align:left;
}
.check-icon{
  font-family:var(--sans);font-size:11px;font-weight:700;
  letter-spacing:.1em;text-transform:uppercase;
  color:var(--paper);background:var(--gold);
  display:inline-flex;align-items:center;justify-content:center;
  width:28px;height:28px;border-radius:4px;margin-bottom:10px;
}
.check-title{font-family:var(--sans);font-size:12.5px;font-weight:600;color:var(--ink);margin-bottom:6px}
.check-desc{font-family:var(--sans);font-size:12px;color:var(--ink-faded);line-height:1.6}

/* ── Step details (workflow breakdown) ─────────────── */
.step-details{display:grid;grid-template-columns:1fr;gap:6px;margin:16px 0}
.step-item{
  font-size:14px;line-height:1.7;color:var(--ink-faded);
  padding:8px 14px;
  border-left:2px solid var(--parchment);
  transition:border-color .2s;
}
.step-item:hover{border-left-color:var(--gold)}
.step-item strong{color:var(--ink-soft)}

/* ── method-when (not in style.css — define from scratch) */
.method-when{
  margin:12px 0;padding:10px 14px;border-radius:4px;
  background:rgba(90,122,107,.05);border:1px solid rgba(90,122,107,.2);
  font-size:14.5px;line-height:1.65;color:var(--ink-faded);
}
.method-when strong{color:var(--leather);font-style:normal}

/* ── Override intro-cards to 2-col for this page (has 2 cards, not 3) */
.intro-cards{grid-template-columns:1fr 1fr!important}

/* ── Responsive ───────────────────────────────────── */
@media(max-width:1000px){
  .check-grid{grid-template-columns:1fr 1fr}
}
@media(max-width:700px){
  .flow-row{flex-direction:column;gap:4px}
  .flow-arrow{transform:rotate(90deg);padding:2px 0}
  .check-grid{grid-template-columns:1fr}
  .vis-row{flex-direction:column}
  .vis-panel{min-width:100%}
  .intro-cards{grid-template-columns:1fr!important}
  body.presenting .slide > *{padding-left:24px;padding-right:24px}
}
@media(max-width:900px){
  body.presenting .slide h2{font-size:1.8rem}
  body.presenting .slide .method-desc{font-size:1rem}
  body.presenting .check-desc{font-size:12px}
}
</style>

<!-- PRESENTATION TOGGLE -->
<button class="pres-toggle" onclick="togglePresentation()">
  <span class="pres-icon">▶</span>
  <span data-lang="en">Presentation Mode</span>
  <span data-lang="zh">演示模式</span>
</button>

<!-- HEADER -->
<div class="slide" id="slide-title">
  <div class="method-header">
    <h1 data-lang="en">Introduction to Network Analysis</h1>
    <h1 data-lang="zh">网络分析入门</h1>
    <div class="method-meta">Sample · 15–20 min</div>
  </div>
  <div class="intro-cards">
    <div class="intro-card">
      <div class="card-label" data-lang="en">What Is This?</div>
      <div class="card-label" data-lang="zh">这是什么？</div>
      <div data-lang="en"><p>A practical introduction to network analysis for social scientists. Part 1 covers the core concepts; Part 2 walks through a published paper step by step. Designed for a 15–20 minute presentation.</p></div>
      <div data-lang="zh"><p>面向社会科学研究者的网络分析实用入门。第一部分讲核心概念；第二部分逐步拆解一篇发表论文。设计为 15–20 分钟演示。</p></div>
    </div>
    <div class="intro-card">
      <div class="card-label" data-lang="en">Audience</div>
      <div class="card-label" data-lang="zh">受众</div>
      <div data-lang="en"><p>Graduate students across disciplines. No network analysis background assumed; basic familiarity with regression is helpful.</p></div>
      <div data-lang="zh"><p>跨学科研究生。无需网络分析背景；了解回归分析基础即可。</p></div>
    </div>
  </div>
</div>

<hr class="section-divider pres-hide">

<!-- ═══════════════════════════════════════════════════ -->
<!--  PART 1: WHAT IS NETWORK ANALYSIS?                 -->
<!-- ═══════════════════════════════════════════════════ -->

<!-- SLIDE: Why Relationships -->
<div class="slide" id="slide-why">
  <div class="slide-num" data-lang="en">Part 1 · Slide 1</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 1 页</div>
  <h2 data-lang="en">Why Study Relationships, Not Just Individuals?</h2>
  <h2 data-lang="zh">为什么要研究关系，而不只是个体？</h2>

  <p class="method-desc" data-lang="en">Most methods treat observations as independent rows. But many social phenomena are relational — who asks whom for study help reveals hidden learning communities that GPA alone cannot explain. Network analysis shifts the question from "what are this person's attributes?" to "what is their position in a web of relationships?"</p>
  <p class="method-desc" data-lang="zh">大多数方法把观测当作独立的行。但许多社会现象是关系性的——谁找谁请教功课揭示了 GPA 无法解释的隐性学习社群。网络分析把问题从"这个人有什么属性？"转变为"这个人在关系网中处于什么位置？"</p>

  <!-- VIS: Spreadsheet vs Network -->
  <div class="vis-row">
    <div class="vis-panel">
      <div class="vis-label" data-lang="en">Traditional Data</div>
      <div class="vis-label" data-lang="zh">传统数据</div>
      <svg viewBox="0 0 260 150" xmlns="http://www.w3.org/2000/svg" style="font-family:'IBM Plex Sans',sans-serif">
        <rect x="10" y="8" width="240" height="28" rx="3" fill="#c29a3d" opacity=".15"/>
        <text x="30" y="27" font-size="11" fill="#3a3632" font-weight="600">Name</text>
        <text x="110" y="27" font-size="11" fill="#3a3632" font-weight="600">Age</text>
        <text x="175" y="27" font-size="11" fill="#3a3632" font-weight="600">GPA</text>
        <line x1="10" y1="36" x2="250" y2="36" stroke="#c29a3d" opacity=".3"/>
        <text x="30" y="55" font-size="11" fill="#6b6560">Alice</text><text x="110" y="55" font-size="11" fill="#6b6560">22</text><text x="175" y="55" font-size="11" fill="#6b6560">3.8</text>
        <text x="30" y="75" font-size="11" fill="#6b6560">Bob</text><text x="110" y="75" font-size="11" fill="#6b6560">23</text><text x="175" y="75" font-size="11" fill="#6b6560">3.5</text>
        <text x="30" y="95" font-size="11" fill="#6b6560">Carol</text><text x="110" y="95" font-size="11" fill="#6b6560">21</text><text x="175" y="95" font-size="11" fill="#6b6560">3.9</text>
        <text x="30" y="115" font-size="11" fill="#6b6560">Dave</text><text x="110" y="115" font-size="11" fill="#6b6560">24</text><text x="175" y="115" font-size="11" fill="#6b6560">3.2</text>
        <text x="30" y="135" font-size="11" fill="#6b6560">Eve</text><text x="110" y="135" font-size="11" fill="#6b6560">22</text><text x="175" y="135" font-size="11" fill="#6b6560">3.6</text>
      </svg>
      <div class="vis-caption" data-lang="en">Each row = one person, independent</div>
      <div class="vis-caption" data-lang="zh">每行 = 一个人，互相独立</div>
    </div>
    <div class="vis-panel">
      <div class="vis-label" data-lang="en">Network Data</div>
      <div class="vis-label" data-lang="zh">网络数据</div>
      <svg viewBox="0 0 260 150" xmlns="http://www.w3.org/2000/svg" style="font-family:'IBM Plex Sans',sans-serif">
        <line x1="70" y1="45" x2="140" y2="40" stroke="#c29a3d" stroke-width="2" opacity=".5"/>
        <line x1="70" y1="45" x2="100" y2="100" stroke="#c29a3d" stroke-width="2" opacity=".5"/>
        <line x1="140" y1="40" x2="100" y2="100" stroke="#c29a3d" stroke-width="2" opacity=".5"/>
        <line x1="140" y1="40" x2="190" y2="90" stroke="#c29a3d" stroke-width="2" opacity=".5"/>
        <line x1="190" y1="90" x2="230" y2="130" stroke="#c29a3d" stroke-width="2" opacity=".5"/>
        <circle cx="70" cy="45" r="16" fill="#c29a3d" opacity=".2" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="70" y="49" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600">Alice</text>
        <circle cx="140" cy="40" r="18" fill="#c29a3d" opacity=".35" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="140" y="44" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600">Bob</text>
        <circle cx="100" cy="100" r="16" fill="#c29a3d" opacity=".2" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="100" y="104" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600">Carol</text>
        <circle cx="190" cy="90" r="16" fill="#c29a3d" opacity=".2" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="190" y="94" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600">Dave</text>
        <circle cx="230" cy="130" r="14" fill="#c29a3d" opacity=".12" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="230" y="134" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600">Eve</text>
      </svg>
      <div class="vis-caption" data-lang="en">Relationships create structure</div>
      <div class="vis-caption" data-lang="zh">关系创造结构</div>
    </div>
  </div>

  <div class="method-analogy" data-lang="en"><strong>Think of it this way:</strong> A resume tells you about a person. A phone log tells you about their world.</div>
  <div class="method-analogy" data-lang="zh"><strong>换个方式想：</strong>简历告诉你一个人。通话记录告诉你他的世界。</div>
</div>

<!-- SLIDE: Core Vocabulary -->
<div class="slide" id="slide-vocab">
  <div class="slide-num" data-lang="en">Part 1 · Slide 2</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 2 页</div>
  <h2 data-lang="en">The Language of Networks</h2>
  <h2 data-lang="zh">网络的语言</h2>

  <p class="method-desc" data-lang="en">A network has two building blocks: <strong>nodes</strong> (actors) and <strong>edges</strong> (relationships). Mathematically, a network is a graph <em>G = (V, E)</em> where <em>V</em> is the vertex set and <em>E</em> the edge set. Everything else builds on these two. Three key distinctions:</p>
  <p class="method-desc" data-lang="zh">网络有两个基本构件：<strong>节点</strong>（行动者）和<strong>边</strong>（关系）。数学上，网络是一个图 <em>G = (V, E)</em>，其中 <em>V</em> 是顶点集，<em>E</em> 是边集。其他一切都建立在这两者之上。三个关键区分：</p>

  <!-- VIS: Three network types -->
  <div class="vis-row">
    <div class="vis-panel">
      <div class="vis-label" data-lang="en">Undirected</div>
      <div class="vis-label" data-lang="zh">无向</div>
      <svg viewBox="0 0 160 100" xmlns="http://www.w3.org/2000/svg">
        <line x1="40" y1="30" x2="120" y2="30" stroke="#c29a3d" stroke-width="2"/>
        <line x1="40" y1="30" x2="80" y2="80" stroke="#c29a3d" stroke-width="2"/>
        <line x1="120" y1="30" x2="80" y2="80" stroke="#c29a3d" stroke-width="2"/>
        <circle cx="40" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="120" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="80" cy="80" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="40" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">A</text>
        <text x="120" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">B</text>
        <text x="80" y="84" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">C</text>
      </svg>
      <div class="vis-caption" data-lang="en">Symmetric adjacency matrix (A<sub>ij</sub> = A<sub>ji</sub>). E.g. co-authorship.</div>
      <div class="vis-caption" data-lang="zh">对称邻接矩阵（A<sub>ij</sub> = A<sub>ji</sub>）。如：合著关系。</div>
    </div>
    <div class="vis-panel">
      <div class="vis-label" data-lang="en">Directed</div>
      <div class="vis-label" data-lang="zh">有向</div>
      <svg viewBox="0 0 160 100" xmlns="http://www.w3.org/2000/svg">
        <defs><marker id="arr" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto"><path d="M0,0 L10,5 L0,10 Z" fill="#c29a3d"/></marker></defs>
        <line x1="52" y1="30" x2="108" y2="30" stroke="#c29a3d" stroke-width="2" marker-end="url(#arr)"/>
        <line x1="46" y1="40" x2="74" y2="72" stroke="#c29a3d" stroke-width="2" marker-end="url(#arr)"/>
        <line x1="86" y1="72" x2="114" y2="40" stroke="#c29a3d" stroke-width="2" marker-end="url(#arr)"/>
        <circle cx="40" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="120" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="80" cy="80" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="40" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">A</text>
        <text x="120" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">B</text>
        <text x="80" y="84" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">C</text>
      </svg>
      <div class="vis-caption" data-lang="en">Asymmetric (A<sub>ij</sub> ≠ A<sub>ji</sub>). E.g. Twitter follows, citations.</div>
      <div class="vis-caption" data-lang="zh">非对称（A<sub>ij</sub> ≠ A<sub>ji</sub>）。如：关注、引用。</div>
    </div>
    <div class="vis-panel">
      <div class="vis-label" data-lang="en">Weighted</div>
      <div class="vis-label" data-lang="zh">加权</div>
      <svg viewBox="0 0 160 100" xmlns="http://www.w3.org/2000/svg">
        <line x1="40" y1="30" x2="120" y2="30" stroke="#c29a3d" stroke-width="5" opacity=".6"/>
        <line x1="40" y1="30" x2="80" y2="80" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
        <line x1="120" y1="30" x2="80" y2="80" stroke="#c29a3d" stroke-width="3" opacity=".5"/>
        <circle cx="40" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="120" cy="30" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <circle cx="80" cy="80" r="12" fill="#c29a3d" opacity=".25" stroke="#c29a3d" stroke-width="1.5"/>
        <text x="40" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">A</text>
        <text x="120" y="34" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">B</text>
        <text x="80" y="84" font-size="10" fill="#3a3632" text-anchor="middle" font-weight="600" font-family="'IBM Plex Sans',sans-serif">C</text>
        <text x="80" y="22" font-size="9" fill="#6b6560" text-anchor="middle" font-family="'IBM Plex Sans',sans-serif">w=5</text>
        <text x="52" y="62" font-size="9" fill="#6b6560" text-anchor="middle" font-family="'IBM Plex Sans',sans-serif">w=1</text>
        <text x="108" y="62" font-size="9" fill="#6b6560" text-anchor="middle" font-family="'IBM Plex Sans',sans-serif">w=3</text>
      </svg>
      <div class="vis-caption" data-lang="en">A<sub>ij</sub> ∈ ℝ (continuous). E.g. trade volume between countries.</div>
      <div class="vis-caption" data-lang="zh">A<sub>ij</sub> ∈ ℝ（连续值）。如：国家间贸易量。</div>
    </div>
  </div>
</div>

<!-- SLIDE: Who Is Important -->
<div class="slide" id="slide-centrality">
  <div class="slide-num" data-lang="en">Part 1 · Slide 3</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 3 页</div>
  <h2 data-lang="en">Who Is "Important"? Three Answers</h2>
  <h2 data-lang="zh">谁"重要"？三种回答</h2>

  <p class="method-desc" data-lang="en">"Importance" depends on what you mean. Click each measure below — watch the node sizes change and read why.</p>
  <p class="method-desc" data-lang="zh">"重要"取决于你的定义。点击下方每个指标——观察节点大小变化，阅读原因。</p>

  <!-- VIS: Interactive centrality network -->
  <div class="cent-btns">
    <button class="cent-btn active" onclick="showCent('degree')" data-lang="en">Degree</button>
    <button class="cent-btn active" onclick="showCent('degree')" data-lang="zh">度中心性</button>
    <button class="cent-btn" onclick="showCent('between')" data-lang="en">Betweenness</button>
    <button class="cent-btn" onclick="showCent('between')" data-lang="zh">中介中心性</button>
    <button class="cent-btn" onclick="showCent('eigen')" data-lang="en">Eigenvector</button>
    <button class="cent-btn" onclick="showCent('eigen')" data-lang="zh">特征向量</button>
  </div>
  <div class="vis-panel" style="max-width:540px">
    <svg id="cent-svg" viewBox="0 0 400 180" xmlns="http://www.w3.org/2000/svg" style="font-family:'IBM Plex Sans',sans-serif">
      <line x1="80" y1="60" x2="200" y2="50" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
      <line x1="80" y1="60" x2="140" y2="140" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
      <line x1="200" y1="50" x2="140" y2="140" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
      <line x1="200" y1="50" x2="290" y2="100" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
      <line x1="290" y1="100" x2="360" y2="140" stroke="#c29a3d" stroke-width="1.5" opacity=".4"/>
      <circle id="cn-alice" cx="80" cy="60" r="18" fill="#c29a3d" opacity=".3" stroke="#c29a3d" stroke-width="2"/>
      <text x="80" y="64" font-size="11" fill="#3a3632" text-anchor="middle" font-weight="600">Alice</text>
      <circle id="cn-bob" cx="200" cy="50" r="24" fill="#c29a3d" opacity=".5" stroke="#c29a3d" stroke-width="2"/>
      <text x="200" y="54" font-size="11" fill="#3a3632" text-anchor="middle" font-weight="600">Bob</text>
      <circle id="cn-carol" cx="140" cy="140" r="18" fill="#c29a3d" opacity=".3" stroke="#c29a3d" stroke-width="2"/>
      <text x="140" y="144" font-size="11" fill="#3a3632" text-anchor="middle" font-weight="600">Carol</text>
      <circle id="cn-dave" cx="290" cy="100" r="18" fill="#c29a3d" opacity=".3" stroke="#c29a3d" stroke-width="2"/>
      <text x="290" y="104" font-size="11" fill="#3a3632" text-anchor="middle" font-weight="600">Dave</text>
      <circle id="cn-eve" cx="360" cy="140" r="12" fill="#c29a3d" opacity=".15" stroke="#c29a3d" stroke-width="2"/>
      <text x="360" y="144" font-size="11" fill="#3a3632" text-anchor="middle" font-weight="600">Eve</text>
    </svg>
    <div class="vis-caption" id="cent-caption" data-lang="en">Degree: node size = number of connections. Bob has the most (3).</div>
    <div class="vis-caption" id="cent-caption-zh" data-lang="zh">度中心性：节点大小 = 连接数。Bob 最多（3 条）。</div>
  </div>

  <!-- Dynamic explanation area — updated by JS -->
  <div id="cent-detail-en" class="method-desc" data-lang="en"><strong>Degree centrality</strong> — simply count edges: C<sub>D</sub>(i) = k<sub>i</sub> / (n−1). <em>Intuition:</em> who has the most direct contacts? Bob wins with 3. The most popular kid at the party. <em>Theory:</em> based on the adjacency matrix row sum, normalized by max possible ties.</div>
  <div id="cent-detail-zh" class="method-desc" data-lang="zh"><strong>度中心性</strong>——直接数边：C<sub>D</sub>(i) = k<sub>i</sub> / (n−1)。<em>直觉：</em>谁的直接联系最多？Bob 以 3 条胜出。派对上最受欢迎的人。<em>理论：</em>基于邻接矩阵行和，除以最大可能连接数进行标准化。</div>

  <div class="method-when" data-lang="en"><strong>Key insight:</strong> No single "right" measure — each captures a different structural role. Choose based on your research question.</div>
  <div class="method-when" data-lang="zh"><strong>核心洞见：</strong>没有单一"正确"的指标——每个捕捉不同的结构角色。根据研究问题选择。</div>
</div>

<!-- SLIDE: Communities -->
<div class="slide" id="slide-community">
  <div class="slide-num" data-lang="en">Part 1 · Slide 4</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 4 页</div>
  <h2 data-lang="en">Finding Groups: Community Detection</h2>
  <h2 data-lang="zh">发现群体：社区检测</h2>

  <p class="method-desc" data-lang="en">Real networks are cliquish — dense within groups, sparse between them. Community detection algorithms discover these groups automatically from connections alone, no labels needed.</p>
  <p class="method-desc" data-lang="zh">真实网络是小团体的——组内密集、组间稀疏。社区检测算法仅从连接数据就能自动发现这些群体，不需要标签。</p>

  <!-- VIS: Community network -->
  <div class="vis-row">
    <div class="vis-panel" style="max-width:540px">
      <svg viewBox="0 0 400 180" xmlns="http://www.w3.org/2000/svg" style="font-family:'IBM Plex Sans',sans-serif">
        <line x1="60" y1="50" x2="120" y2="40" stroke="#b85450" stroke-width="2" opacity=".4"/>
        <line x1="60" y1="50" x2="90" y2="110" stroke="#b85450" stroke-width="2" opacity=".4"/>
        <line x1="120" y1="40" x2="90" y2="110" stroke="#b85450" stroke-width="2" opacity=".4"/>
        <line x1="120" y1="40" x2="150" y2="100" stroke="#b85450" stroke-width="2" opacity=".4"/>
        <line x1="60" y1="50" x2="150" y2="100" stroke="#b85450" stroke-width="2" opacity=".4"/>
        <line x1="270" y1="45" x2="330" y2="50" stroke="#5b8c85" stroke-width="2" opacity=".4"/>
        <line x1="270" y1="45" x2="280" y2="110" stroke="#5b8c85" stroke-width="2" opacity=".4"/>
        <line x1="330" y1="50" x2="280" y2="110" stroke="#5b8c85" stroke-width="2" opacity=".4"/>
        <line x1="330" y1="50" x2="350" y2="120" stroke="#5b8c85" stroke-width="2" opacity=".4"/>
        <line x1="280" y1="110" x2="350" y2="120" stroke="#5b8c85" stroke-width="2" opacity=".4"/>
        <line x1="150" y1="100" x2="270" y2="45" stroke="#c29a3d" stroke-width="1.5" stroke-dasharray="6,4" opacity=".6"/>
        <circle cx="60" cy="50" r="14" fill="#b85450" opacity=".25" stroke="#b85450" stroke-width="1.5"/>
        <circle cx="120" cy="40" r="14" fill="#b85450" opacity=".25" stroke="#b85450" stroke-width="1.5"/>
        <circle cx="90" cy="110" r="14" fill="#b85450" opacity=".25" stroke="#b85450" stroke-width="1.5"/>
        <circle cx="150" cy="100" r="14" fill="#b85450" opacity=".25" stroke="#b85450" stroke-width="1.5"/>
        <circle cx="270" cy="45" r="14" fill="#5b8c85" opacity=".25" stroke="#5b8c85" stroke-width="1.5"/>
        <circle cx="330" cy="50" r="14" fill="#5b8c85" opacity=".25" stroke="#5b8c85" stroke-width="1.5"/>
        <circle cx="280" cy="110" r="14" fill="#5b8c85" opacity=".25" stroke="#5b8c85" stroke-width="1.5"/>
        <circle cx="350" cy="120" r="14" fill="#5b8c85" opacity=".25" stroke="#5b8c85" stroke-width="1.5"/>
        <text x="95" y="155" font-size="11" fill="#b85450" text-anchor="middle" font-weight="600">Community A</text>
        <text x="305" y="155" font-size="11" fill="#5b8c85" text-anchor="middle" font-weight="600">Community B</text>
        <text x="210" y="68" font-size="9" fill="#c29a3d" text-anchor="middle" font-style="italic">bridge</text>
      </svg>
      <div class="vis-caption" data-lang="en">Dense within groups, sparse between — the dashed line is the only bridge</div>
      <div class="vis-caption" data-lang="zh">组内密集、组间稀疏——虚线是唯一的桥梁</div>
    </div>
  </div>

  <p class="method-desc" data-lang="en"><em>Intuition:</em> find groups where members are more connected to each other than to outsiders — like identifying lunch tables in a high school cafeteria. The algorithm doesn't need labels; it discovers structure purely from the pattern of connections. This is powerful because the groups it finds often reveal real social divisions that surveys miss.</p>
  <p class="method-desc" data-lang="zh"><em>直觉：</em>找到成员之间联系比对外联系更紧密的群体——就像识别高中食堂里的午餐桌。算法不需要标签，纯粹从连接模式中发现结构。这很有用，因为它找到的群体常常揭示问卷遗漏的真实社会划分。</p>
</div>

<!-- SLIDE: Network Methods Overview -->
<div class="slide" id="slide-methods-overview">
  <div class="slide-num" data-lang="en">Part 1 · Slide 5</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 5 页</div>
  <h2 data-lang="en">From Description to Inference</h2>
  <h2 data-lang="zh">从描述到推断</h2>

  <p class="method-desc" data-lang="en">Network methods fall into two layers. <strong>Descriptive methods</strong> tell you <em>what</em> the network looks like; <strong>inferential models</strong> test <em>why</em> it looks that way.</p>
  <p class="method-desc" data-lang="zh">网络方法分两层。<strong>描述性方法</strong>告诉你网络<em>长什么样</em>；<strong>推断模型</strong>检验它<em>为什么</em>长这样。</p>

  <h3 data-lang="en">Descriptive: What Does the Network Look Like?</h3>
  <h3 data-lang="zh">描述层：网络长什么样？</h3>
  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Centrality Measures</div>
      <div class="check-title" data-lang="zh">中心性指标</div>
      <div class="check-desc" data-lang="en">Who is important? Degree, betweenness, eigenvector — each captures a different structural role. Covered in Slide 3.</div>
      <div class="check-desc" data-lang="zh">谁重要？度、中介、特征向量——各自捕捉不同的结构角色。见第 3 页。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">Community Detection</div>
      <div class="check-title" data-lang="zh">社区检测</div>
      <div class="check-desc" data-lang="en">Where are the clusters? Algorithms like <strong>Louvain</strong> optimize modularity to find dense subgroups automatically. Fast, scalable, widely used. Covered in Slide 4.</div>
      <div class="check-desc" data-lang="zh">聚类在哪？<strong>Louvain</strong> 等算法优化模块性，自动发现密集子群。快速、可扩展、应用广泛。见第 4 页。</div>
    </div>
  </div>

  <h3 data-lang="en">Inferential: Why Does the Network Look This Way?</h3>
  <h3 data-lang="zh">推断层：网络为什么长这样？</h3>
  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">Q</div>
      <div class="check-title" data-lang="en">QAP</div>
      <div class="check-title" data-lang="zh">QAP</div>
      <div class="check-desc" data-lang="en">Do two networks correlate? Permutation-based test. E.g. do students who study together also hang out socially? Shuffle one matrix thousands of times and check if the real correlation is unusually strong.</div>
      <div class="check-desc" data-lang="zh">两个网络是否相关？基于置换的检验。例如：一起学习的学生是否也在课外社交？把一个矩阵洗牌上千次，看真实相关是否异常强。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">E</div>
      <div class="check-title" data-lang="en">ERGM</div>
      <div class="check-title" data-lang="zh">ERGM</div>
      <div class="check-desc" data-lang="en">What drives tie formation? E.g. do students seek help from same-major peers (homophily), or from high-GPA classmates (popularity)? Like logistic regression for networks. <strong>Today's focus.</strong></div>
      <div class="check-desc" data-lang="zh">什么驱动关系形成？例如：学生倾向找同专业的人请教（同质性），还是找 GPA 高的人（人气效应）？相当于网络的逻辑回归。<strong>今天的重点。</strong></div>
    </div>
    <div class="check-card">
      <div class="check-icon">L</div>
      <div class="check-title" data-lang="en">Latent Space</div>
      <div class="check-title" data-lang="zh">潜在空间模型</div>
      <div class="check-desc" data-lang="en">Embed nodes in a latent space where proximity predicts ties. E.g. map a classroom's friendship network into 2D — students close in the space are likely friends, revealing cliques invisible in raw data.</div>
      <div class="check-desc" data-lang="zh">将节点嵌入潜在空间，距离近的更可能有关系。例如：把一个班级的友谊网络映射到二维空间——空间中靠近的学生更可能是朋友，揭示原始数据中看不到的小圈子。</div>
    </div>
  </div>

  <div class="method-when" data-lang="en"><strong>Today we focus on ERGM</strong> — our paper (Köhler et al. 2024) uses it to ask: what drives advice-seeking ties in an organization? Part 2 walks through this step by step.</div>
  <div class="method-when" data-lang="zh"><strong>今天我们聚焦 ERGM</strong>——我们要拆解的论文（Köhler et al. 2024）用它来问：什么驱动了组织中的求助关系？第二部分逐步拆解。</div>
</div>

<!-- SLIDE: When to Use -->
<div class="slide" id="slide-when">
  <div class="slide-num" data-lang="en">Part 1 · Slide 6</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 6 页</div>
  <h2 data-lang="en">Should You Use Network Analysis?</h2>
  <h2 data-lang="zh">你应该用网络分析吗？</h2>

  <p class="method-desc" data-lang="en">If you can answer "yes" to all three, network analysis is likely the right tool:</p>
  <p class="method-desc" data-lang="zh">如果三个问题都能答"是"，网络分析很可能是合适的工具：</p>

  <!-- VIS: Decision checklist -->
  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Relational Data?</div>
      <div class="check-title" data-lang="zh">关系数据？</div>
      <div class="check-desc" data-lang="en">Your data has pairs (who↔whom). If each row is an independent person with no ties, standard methods may suffice.</div>
      <div class="check-desc" data-lang="zh">你的数据包含配对（谁↔谁）。如果每行是独立个体且没有联系，标准方法可能足够。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">Position Matters?</div>
      <div class="check-title" data-lang="zh">位置重要？</div>
      <div class="check-desc" data-lang="en">Structural position (connections, brokerage, community) shapes outcomes beyond individual attributes. Network analysis captures what regression cannot.</div>
      <div class="check-desc" data-lang="zh">结构位置（连接、中介角色、社区归属）影响结果，超越个体属性。网络分析能捕捉回归无法捕捉的东西。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">03</div>
      <div class="check-title" data-lang="en">Dependence Is the Story?</div>
      <div class="check-title" data-lang="zh">依赖性是核心？</div>
      <div class="check-desc" data-lang="en">Observations are <em>not</em> independent — your friend's behavior affects yours, one country's policy spills over to neighbors.</div>
      <div class="check-desc" data-lang="zh">观测<em>不</em>独立——你朋友的行为影响你，一国的政策溢出到邻国。</div>
    </div>
  </div>
</div>

<!-- SLIDE: Steps to a Network Analysis Paper -->
<div class="slide" id="slide-steps">
  <div class="slide-num" data-lang="en">Part 1 · Slide 7</div>
  <div class="slide-num" data-lang="zh">第一部分 · 第 7 页</div>
  <h2 data-lang="en">From Idea to Paper: A Network Analysis Workflow</h2>
  <h2 data-lang="zh">从想法到论文：网络分析的工作流程</h2>

  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Define</div>
      <div class="check-title" data-lang="zh">定义</div>
      <div class="check-desc" data-lang="en">What are nodes and edges? E.g. "Nodes = students; edge = asked for help at least twice." The most important decision.</div>
      <div class="check-desc" data-lang="zh">节点和边是什么？如"节点 = 学生；边 = 至少请教过两次"。最重要的决定。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">Construct</div>
      <div class="check-title" data-lang="zh">构建</div>
      <div class="check-desc" data-lang="en">Build edge list or adjacency matrix from survey / archival data. Visualize early to spot errors.</div>
      <div class="check-desc" data-lang="zh">从问卷或档案数据建立边表/邻接矩阵。尽早可视化以发现问题。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">03</div>
      <div class="check-title" data-lang="en">Describe</div>
      <div class="check-title" data-lang="zh">描述</div>
      <div class="check-desc" data-lang="en">Density, centrality, communities — the network's descriptive statistics.</div>
      <div class="check-desc" data-lang="zh">密度、中心性、社区——网络的描述性统计。</div>
    </div>
  </div>
  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">04</div>
      <div class="check-title" data-lang="en">Model</div>
      <div class="check-title" data-lang="zh">建模</div>
      <div class="check-desc" data-lang="en">Test hypotheses with ERGM, QAP, or latent space models (see Slide 5).</div>
      <div class="check-desc" data-lang="zh">用 ERGM、QAP 或潜在空间模型检验假设（见第 5 页）。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">05</div>
      <div class="check-title" data-lang="en">Robustness</div>
      <div class="check-title" data-lang="zh">稳健性</div>
      <div class="check-desc" data-lang="en">Vary thresholds and measures; remove key nodes to test stability.</div>
      <div class="check-desc" data-lang="zh">改变阈值和指标，移除关键节点测试结果是否稳定。</div>
    </div>
  </div>

  <div class="method-when" data-lang="en"><strong>Now let's see this workflow in action.</strong> Part 2 walks through a real published paper — from research question to findings.</div>
  <div class="method-when" data-lang="zh"><strong>现在让我们看看这个流程的实战。</strong>第二部分将逐步拆解一篇真实发表的论文——从研究问题到发现。</div>
</div>

<hr class="section-divider pres-hide">

<!-- ═══════════════════════════════════════════════════ -->
<!--  PART 2: A PAPER WALKTHROUGH                       -->
<!-- ═══════════════════════════════════════════════════ -->

<!-- SLIDE: Part 2 Title -->
<div class="slide" id="slide-part2">
  <div class="slide-num" data-lang="en">Part 2</div>
  <div class="slide-num" data-lang="zh">第二部分</div>
  <h2 data-lang="en">Paper Walkthrough: Expertise &amp; Advice Networks</h2>
  <h2 data-lang="zh">论文拆解：专业知识与建议网络</h2>

  <p class="method-desc" data-lang="en">Köhler, Rausch, Biemann &amp; Büchsenschuss (2024). "Expertise and specialization in organizations: a social network analysis." <em>European Journal of Work and Organizational Psychology</em>, 34(2), 282–297. <a href="https://doi.org/10.1080/1359432X.2024.2387874" target="_blank">Open Access</a></p>
  <p class="method-desc" data-lang="zh">Köhler, Rausch, Biemann &amp; Büchsenschuss (2024). "组织中的专业知识与专业化：一项社会网络分析。" <em>European Journal of Work and Organizational Psychology</em>, 34(2), 282–297. <a href="https://doi.org/10.1080/1359432X.2024.2387874" target="_blank">开放获取</a></p>

  <p class="method-desc" data-lang="en"><em>Core question:</em> Are you sought for advice because you're truly skilled — or simply because you're well-known?</p>
  <p class="method-desc" data-lang="zh"><em>核心问题：</em>别人来请教你，是因为你真的强——还是只因为你出名？</p>
</div>

<!-- SLIDE: Research Question & Core Concepts -->
<div class="slide" id="slide-rq">
  <div class="slide-num" data-lang="en">Part 2 · Slide 1</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 1 页</div>
  <h2 data-lang="en">Research Question &amp; Core Concepts</h2>
  <h2 data-lang="zh">研究问题与核心概念</h2>

  <p class="method-desc" data-lang="en">This paper asks: <strong>What drives the formation of advice-seeking ties in an organizational network?</strong> Two competing explanations:</p>
  <p class="method-desc" data-lang="zh">这篇论文问的是：<strong>什么驱动了组织中求助关系的形成？</strong>两种竞争性解释：</p>

  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">A</div>
      <div class="check-title" data-lang="en">Individual Attributes</div>
      <div class="check-title" data-lang="zh">个体属性</div>
      <div class="check-desc" data-lang="en"><strong>Expertise</strong> and <strong>specialization</strong> — people seek out whoever is truly skilled. <em>Example:</em> you ask the best Excel person about Excel, the best writer about writing.</div>
      <div class="check-desc" data-lang="zh"><strong>专业知识</strong>和<strong>专业化</strong>——人们找真正有本事的人。<em>例子：</em>Excel 问题找 Excel 最强的人，写作问题找写作最好的人。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">B</div>
      <div class="check-title" data-lang="en">Structural Effects</div>
      <div class="check-title" data-lang="zh">结构效应</div>
      <div class="check-desc" data-lang="en"><strong>Reciprocity</strong> — you helped me, so I ask you back. <strong>Homophily</strong> — I ask people similar to me (same department, same age). <em>Example:</em> you don't ask the best person, you ask the person you already know.</div>
      <div class="check-desc" data-lang="zh"><strong>互惠性</strong>——你帮过我，我也来找你。<strong>同质性</strong>——我找和我相似的人（同部门、同年龄）。<em>例子：</em>你不找最强的人，而是找已经认识的人。</div>
    </div>
  </div>

  <p class="method-desc" data-lang="en"><strong>Expert (Expertise):</strong> sustained superior performance — both breadth and depth, developed through long-term accumulation. Like a senior underwriter who masters all insurance products. In the network, experts are central — many people ask them about many topics.</p>
  <p class="method-desc" data-lang="zh"><strong>专家（Expertise）：</strong>持续卓越的表现——广度和深度都高，通过长期积累发展。比如一个精通所有险种的资深核保师。在网络中，专家处于中心——很多人在很多话题上找他。</p>

  <p class="method-desc" data-lang="en"><strong>Specialist (Specialization):</strong> mid-to-high competence on tasks others don't do — from division of labor, not necessarily long-term accumulation. Like the only person who knows the legacy claims system. In the network, specialists are peripheral — only people with that specific problem come to them.</p>
  <p class="method-desc" data-lang="zh"><strong>专才（Specialization）：</strong>对别人不做的任务有中高水平能力——来自分工，不一定需要长期积累。比如公司里唯一懂旧理赔系统的人。在网络中，专才处于边缘——只有遇到那个具体问题的人才来找他。</p>
</div>

<!-- SLIDE: Data as Network -->
<div class="slide" id="slide-data">
  <div class="slide-num" data-lang="en">Part 2 · Slide 2</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 2 页</div>
  <h2 data-lang="en">From Raw Data to a Network</h2>
  <h2 data-lang="zh">从原始数据到网络</h2>

  <div class="check-grid" style="grid-template-columns:1fr">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Who Was Studied</div>
      <div class="check-title" data-lang="zh">研究对象</div>
      <div class="check-desc" data-lang="en"><strong>Company:</strong> a global insurance firm, risk analysis division<br><strong>Sample:</strong> N = 344 employees, 78% response rate<br><strong>Demographics:</strong> average age 47, average tenure 11 years, roughly gender-balanced</div>
      <div class="check-desc" data-lang="zh"><strong>公司：</strong>一家全球保险公司，风险分析部门<br><strong>样本：</strong>N = 344 名员工，78% 响应率<br><strong>人口统计：</strong>平均年龄 47 岁，平均工龄 11 年，男女各半</div>
    </div>
  </div>
  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">What Was Measured</div>
      <div class="check-title" data-lang="zh">测量了什么</div>
      <div class="check-desc" data-lang="en"><strong>29 skills</strong> self-assessed on a rating scale:<br>— 18 core insurance skills<br>— 7 software skills<br>— 4 social skills<br><strong>Self-identity scales:</strong><br>— "I consider myself an expert"<br>— "I consider myself a specialist"<br><strong>Network nomination:</strong><br>— "Who do you ask for advice?" (up to 5 names × 3 skill areas)</div>
      <div class="check-desc" data-lang="zh"><strong>29 项技能</strong>自评打分：<br>— 18 项核心保险技能<br>— 7 项软件技能<br>— 4 项社交技能<br><strong>自我认同量表：</strong><br>— "我认为自己是专家"<br>— "我认为自己是专才"<br><strong>网络提名：</strong><br>— "你找谁请教？"（每个领域最多 5 人 × 3 个技能领域）</div>
    </div>
    <div class="check-card">
      <div class="check-icon">03</div>
      <div class="check-title" data-lang="en">Company Records</div>
      <div class="check-title" data-lang="zh">公司档案</div>
      <div class="check-desc" data-lang="en">From the HR database:<br>— Age<br>— Gender<br>— Tenure (years)<br>— Job level<br>— Leadership responsibility (yes/no)</div>
      <div class="check-desc" data-lang="zh">来自 HR 数据库：<br>— 年龄<br>— 性别<br>— 工龄（年）<br>— 职级<br>— 是否有领导责任</div>
    </div>
  </div>
</div>

<!-- SLIDE: Three-Study Design + Methods -->
<div class="slide" id="slide-methods">
  <div class="slide-num" data-lang="en">Part 2 · Slide 3</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 3 页</div>
  <h2 data-lang="en">Method: Three Studies in One Paper</h2>
  <h2 data-lang="zh">方法：一篇论文中的三个研究</h2>

  <p class="method-desc" data-lang="en">The paper uses three studies that build on each other: first <em>discover</em> a pattern, then <em>explain</em> what drives it, then <em>validate</em> whether theoretical categories hold up.</p>
  <p class="method-desc" data-lang="zh">论文用三个递进的研究：先<em>发现</em>规律，再<em>解释</em>驱动因素，最后<em>验证</em>理论分类是否成立。</p>

  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Spearman Correlations</div>
      <div class="check-title" data-lang="zh">Spearman 相关</div>
      <div class="check-desc" data-lang="en"><em>Question:</em> Is being asked for advice tied to your real skill, or just to being popular?<br><em>How:</em> Compute how many people ask each person for help (in-degree) in 3 skill areas; correlate with self-rated skills (Spearman); compare correlations (Fisher z-test).<br><em>i.e.:</em> Count who asks you in each area, then see if that number matches your actual ability — or just your popularity elsewhere.</div>
      <div class="check-desc" data-lang="zh"><em>问题：</em>被请教是因为真的擅长，还是只因为你"有名"？<br><em>做法：</em>计算每人在 3 类技能的被请教次数（入度），与自评技能做 Spearman 相关，再用 Fisher z 检验比较相关系数。<br><em>也就是说：</em>数多少人在各领域找你，看这个数字和你的实际能力更相关，还是和你在其他领域的人气更相关。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">ERGM</div>
      <div class="check-title" data-lang="zh">ERGM 指数随机图模型</div>
      <div class="check-desc" data-lang="en"><em>Question:</em> What actually drives advice ties — after removing the network's own patterns?<br><em>How:</em> Build the model in 3 steps: (1) baseline (edges + reciprocity); (2) add network effects (in-degree, brokerage); (3) add personal traits (expertise, skills, tenure, gender, leadership). Compare via AIC. R <code>ergm</code>.<br><em>i.e.:</em> A logistic regression for networks — test which factors make two people more likely to form a "who asks whom" tie.</div>
      <div class="check-desc" data-lang="zh"><em>问题：</em>排除网络自身规律后，到底什么驱动求助关系？<br><em>做法：</em>分 3 步建模：(1) 基线（边 + 互惠）；(2) 加网络效应（入度、中介）；(3) 加个人属性（expertise、技能、工龄、性别、管理职责）。用 AIC 比较模型。R <code>ergm</code>。<br><em>也就是说：</em>给网络做逻辑回归——检验哪些因素让两人之间更可能形成"请教"关系。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">03</div>
      <div class="check-title" data-lang="en">Optimal Matching</div>
      <div class="check-title" data-lang="zh">最优匹配</div>
      <div class="check-desc" data-lang="en"><em>Question:</em> Do real skill profiles match theoretical expert/specialist templates?<br><em>How:</em> Sort each person's 29 skills high→low; compute "distance" to ideal profiles (R <code>TraMineR</code>); correlate distances with self-ratings and centrality (Spearman).<br><em>i.e.:</em> Draw a template for "perfect expert" and "perfect specialist," then measure how far each person is from those templates.</div>
      <div class="check-desc" data-lang="zh"><em>问题：</em>真实技能画像和理论上的专家/专才模板匹配吗？<br><em>做法：</em>将每人 29 项技能从高到低排序，用 R <code>TraMineR</code> 计算与理想画像的"距离"，再与自评和中心度做 Spearman 相关。<br><em>也就是说：</em>先画"理想专家"和"理想专才"的模板，再量每个人离模板有多远。</div>
    </div>
  </div>
</div>

<!-- SLIDE: Finding 1 — Halo Effect -->
<div class="slide" id="slide-study1">
  <div class="slide-num" data-lang="en">Part 2 · Slide 4</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 4 页</div>
  <h2 data-lang="en">Finding 1: The Halo Effect</h2>
  <h2 data-lang="zh">发现一：光环效应</h2>

  <p class="method-desc" data-lang="en"><strong>Result:</strong> Cross-domain in-degree correlations are significantly stronger than within-domain skill–in-degree correlations (Fisher z, p &lt; .05). Exception: core insurance skills, where actual competence also matters.</p>
  <p class="method-desc" data-lang="zh"><strong>结果：</strong>跨领域入度相关显著强于领域内技能–入度相关（Fisher z，p &lt; .05）。例外：核心保险技能，实际能力也有作用。</p>

  <p class="method-desc" data-lang="en"><strong>i.e.:</strong> Once colleagues see you as a go-to person for insurance, they also come to you for software and social problems — even if you're not actually good at those. Being asked reflects <em>reputation</em>, not skill-by-skill competence.</p>
  <p class="method-desc" data-lang="zh"><strong>也就是说：</strong>一旦同事觉得你是保险方面的"靠谱人"，他们连软件和社交问题也来找你——哪怕你并不擅长。被请教反映的是<em>声誉</em>，而不是逐项技能的实力。</p>
</div>

<!-- SLIDE: Finding 2 — ERGM Results -->
<div class="slide" id="slide-study2">
  <div class="slide-num" data-lang="en">Part 2 · Slide 5</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 5 页</div>
  <h2 data-lang="en">Finding 2: What Drives Advice Ties (ERGM)</h2>
  <h2 data-lang="zh">发现二：什么驱动求助关系（ERGM）</h2>

  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">+</div>
      <div class="check-title" data-lang="en">Significant Positive</div>
      <div class="check-title" data-lang="zh">显著正效应</div>
      <div class="check-desc" data-lang="en"><strong>Reciprocity</strong> — strongest effect; you ask me, I ask you back.<br><strong>Core &amp; software skill level</strong> — higher skill averages attract more ties.<br><strong>Expertise identity</strong> — small positive effect.<br><strong>Tenure</strong> — longer-tenured get asked more.</div>
      <div class="check-desc" data-lang="zh"><strong>互惠性</strong>——最强效应；你找我，我也找你。<br><strong>核心 &amp; 软件技能水平</strong>——技能均值越高，被请教越多。<br><strong>专家自我认同</strong>——小的正效应。<br><strong>工龄</strong>——工龄越长，被请教越多。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">=</div>
      <div class="check-title" data-lang="en">Homophily</div>
      <div class="check-title" data-lang="zh">同质性</div>
      <div class="check-desc" data-lang="en"><strong>Software skill similarity</strong> — strongest; you ask peers at your level.<br><strong>Similar tenure</strong> — joined around the same time → ask each other.<br><strong>Same leadership level</strong> — managers ask managers.</div>
      <div class="check-desc" data-lang="zh"><strong>软件技能相似性</strong>——最强；你找水平差不多的人。<br><strong>工龄相近</strong>——入职时间接近 → 互相请教。<br><strong>职级相同</strong>——管理者找管理者。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">—</div>
      <div class="check-title" data-lang="en">Not Significant</div>
      <div class="check-title" data-lang="zh">不显著</div>
      <div class="check-desc" data-lang="en"><strong>Specialization</strong> — "only person who does X" ≠ more sought-after.<br><strong>Social skills</strong> — no effect.<br><strong>Brokerage</strong> — negative; people skip middlemen.</div>
      <div class="check-desc" data-lang="zh"><strong>专才身份</strong>——"只有你做这件事"≠ 更常被找。<br><strong>社交技能</strong>——无效应。<br><strong>中介</strong>——为负；人们不走中间人。</div>
    </div>
  </div>

  <p class="method-desc" data-lang="en"><strong>i.e.:</strong> The network rewards "you helped me before" (reciprocity) and "you're genuinely skilled" (skill level). People ask those who are similar to themselves. But being a "specialist" or having social skills doesn't attract advice ties.</p>
  <p class="method-desc" data-lang="zh"><strong>也就是说：</strong>网络看重"你以前帮过我"（互惠）和"你确实有本事"（技能水平）。人们倾向找和自己相似的人。但"专才"头衔和社交技能都不能吸引求助关系。</p>
</div>

<!-- SLIDE: Finding 3 — Skill Profiles -->
<div class="slide" id="slide-study3">
  <div class="slide-num" data-lang="en">Part 2 · Slide 6</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 6 页</div>
  <h2 data-lang="en">Finding 3: Skill Profiles vs. Theory</h2>
  <h2 data-lang="zh">发现三：技能画像 vs. 理论</h2>

  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">E</div>
      <div class="check-title" data-lang="en">Expert — Confirmed</div>
      <div class="check-title" data-lang="zh">专家 — 验证成功</div>
      <div class="check-desc" data-lang="en"><strong>Result:</strong> Higher self-rated expertise → closer to ideal expert profile. Higher in-degree → also closer. Theory and data align.</div>
      <div class="check-desc" data-lang="zh"><strong>结果：</strong>自评专家程度越高 → 越接近理想专家画像。入度越高 → 也越接近。理论与数据一致。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">S</div>
      <div class="check-title" data-lang="en">Specialist — Contradicted</div>
      <div class="check-title" data-lang="zh">专才 — 验证失败</div>
      <div class="check-desc" data-lang="en"><strong>Result:</strong> Higher self-rated specialization → <em>farther</em> from ideal specialist profile (opposite of expected). Two sub-types in the sample but the template only fits one.</div>
      <div class="check-desc" data-lang="zh"><strong>结果：</strong>自评专才程度越高 → 反而离理想专才画像<em>越远</em>（与预期相反）。样本中有两种专才，但模板只适用其中一种。</div>
    </div>
  </div>

  <p class="method-desc" data-lang="en"><strong>i.e.:</strong> People who call themselves "experts" really do have broad, high skill sets — the label matches reality. But "specialist" means different things: some are the only lawyer in the office (broad within their niche), others handle one narrow task among peers. The theoretical template only captured the second type, so the match failed.</p>
  <p class="method-desc" data-lang="zh"><strong>也就是说：</strong>自称"专家"的人确实技能广而高——名副其实。但"专才"有两种含义：一种是办公室里唯一的法务（在自己领域什么都得会），另一种是团队里只负责客诉的人（只精一项）。理论模板只画了第二种，所以匹配失败了。</p>
</div>

<!-- SLIDE: Contributions & Limitations -->
<div class="slide" id="slide-extend">
  <div class="slide-num" data-lang="en">Part 2 · Slide 7</div>
  <div class="slide-num" data-lang="zh">第二部分 · 第 7 页</div>
  <h2 data-lang="en">Contributions &amp; Limitations</h2>
  <h2 data-lang="zh">理论贡献与局限性</h2>

  <div class="check-grid">
    <div class="check-card">
      <div class="check-icon">+</div>
      <div class="check-title" data-lang="en">Contribution</div>
      <div class="check-title" data-lang="zh">贡献</div>
      <div class="check-desc" data-lang="en">(1) Integrates expert/non-expert and specialist/generalist into one four-type framework within each domain. (2) Reveals a halo effect in advice seeking across skill bundles. (3) Uses ERGM to control endogenous network factors, more rigorous than simple correlations. (4) Develops and validates short scales for expertise and specialization (CFA: CFI = .982, RMSEA = .059). (5) Innovatively applies optimal matching from sequence analysis to compare skill profiles.<br><em>Plain language:</em> Instead of just "expert vs. non-expert," they give organizations a richer vocabulary — and test it with proper network methods rather than just counting who talks to whom.</div>
      <div class="check-desc" data-lang="zh">(1) 在每个领域内将专家/非专家和专才/通才整合为四类框架。(2) 揭示了跨技能领域的求助"光环效应"。(3) 用 ERGM 控制内生网络因素，比单纯相关分析更严谨。(4) 开发并验证了 expertise 和 specialization 短量表（CFA: CFI = .982, RMSEA = .059）。(5) 创新地将序列分析中的最优匹配用于技能画像比较。<br><em>通俗：</em>不止是"专家 vs. 非专家"，而是给组织提供了更丰富的分类方式——并且用网络方法严格检验，而不只是数谁和谁说过话。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">—</div>
      <div class="check-title" data-lang="en">Limitations</div>
      <div class="check-title" data-lang="zh">局限</div>
      <div class="check-desc" data-lang="en">Skills are self-assessed → common method variance. 5-name cap per skill bundle may miss ties (though only 4 people hit the cap). Ego-network data used to infer complete network (78% response rate mitigates but doesn't eliminate error). No control for physical proximity or office layout. Cross-sectional design — cannot determine causal direction. Specialist profile only fits one of two specialist sub-types. Results are organization- and domain-specific.<br><em>Plain language:</em> People rated their own skills (no independent test). The survey only asked for 5 names. And this is a snapshot — we can't tell if being asked a lot makes you more skilled, or if being skilled gets you asked more.</div>
      <div class="check-desc" data-lang="zh">技能为自评 → 共同方法变异。每类技能包最多提名 5 人可能遗漏关系（但仅 4 人达到上限）。自我网络推断完整网络（78% 回收率减轻但未消除误差）。未控制办公室布局或物理距离。横截面设计无法判断因果方向。专才画像只适用于两种专才中的一种。结果具有组织和领域特异性。<br><em>通俗：</em>技能全靠自评（没有独立测试）。问卷只让填 5 个名字。而且这只是一张"快照"——分不清是"被问得多所以变厉害了"还是"厉害所以被问得多"。</div>
    </div>
    <div class="check-card">
      <div class="check-icon">?</div>
      <div class="check-title" data-lang="en">Future Directions</div>
      <div class="check-title" data-lang="zh">未来方向</div>
      <div class="check-desc" data-lang="en">Validate scales with objective performance data (KPIs). Interview to investigate halo effect mechanisms. Ask about each individual skill (not just bundles). Differentiate two specialist sub-types. Replicate across domains and organizations. Supplement name generation with interviews to reduce recall bias.<br><em>Plain language:</em> Use real performance scores instead of self-ratings, talk to people about why they ask who they ask, and test whether these patterns hold in other companies and industries.</div>
      <div class="check-desc" data-lang="zh">用客观绩效数据（KPI）验证量表。通过访谈深入探究光环效应的机制。对每项具体技能（而非仅技能包）提问。区分两种专才子类型。在不同领域和组织中复制。补充访谈以减少回忆偏差。<br><em>通俗：</em>用真实的业绩数据代替自评，和员工聊聊他们为什么找特定的人请教，再看看这些规律在其他公司和行业是否一样。</div>
    </div>
  </div>
</div>

<!-- SLIDE: Takeaway -->
<div class="slide" id="slide-end">
  <h2 data-lang="en">References</h2>
  <h2 data-lang="zh">参考资料</h2>

  <div class="check-grid" style="grid-template-columns:1fr 1fr">
    <div class="check-card">
      <div class="check-icon">01</div>
      <div class="check-title" data-lang="en">Today's Paper</div>
      <div class="check-title" data-lang="zh">今日论文</div>
      <div class="check-desc" data-lang="en">Köhler, Rausch, Biemann &amp; Büchsenschuss (2024). Expertise and specialization in organizations. <em>EJWOP</em>, 34(2), 282–297. <a href="https://doi.org/10.1080/1359432X.2024.2387874" target="_blank">Open Access</a></div>
      <div class="check-desc" data-lang="zh">Köhler, Rausch, Biemann &amp; Büchsenschuss (2024). 组织中的专业知识与专业化. <em>EJWOP</em>, 34(2), 282–297. <a href="https://doi.org/10.1080/1359432X.2024.2387874" target="_blank">开放获取</a></div>
    </div>
    <div class="check-card">
      <div class="check-icon">02</div>
      <div class="check-title" data-lang="en">ERGM Tutorial</div>
      <div class="check-title" data-lang="zh">ERGM 教程</div>
      <div class="check-desc" data-lang="en">Statnet team. ERGM tutorial with R code and worked examples. <a href="https://statnet.org/workshop-ergm/ergm_tutorial.html" target="_blank">statnet.org</a></div>
      <div class="check-desc" data-lang="zh">Statnet 团队. ERGM 教程，含 R 代码和实例. <a href="https://statnet.org/workshop-ergm/ergm_tutorial.html" target="_blank">statnet.org</a></div>
    </div>
    <div class="check-card">
      <div class="check-icon">03</div>
      <div class="check-title" data-lang="en">Methods Notebook</div>
      <div class="check-title" data-lang="zh">方法笔记本</div>
      <div class="check-desc" data-lang="en">Full network analysis reference page with math, code, and examples. <a href="/methods/reg-network.html">Network Analysis →</a></div>
      <div class="check-desc" data-lang="zh">完整的网络分析参考页面，含数学推导、代码和实例. <a href="/methods/reg-network.html">网络分析 →</a></div>
    </div>
    <div class="check-card">
      <div class="check-icon">04</div>
      <div class="check-title" data-lang="en">Textbook</div>
      <div class="check-title" data-lang="zh">教材</div>
      <div class="check-desc" data-lang="en">Wasserman &amp; Faust (1994). <em>Social Network Analysis: Methods and Applications</em>. Cambridge University Press.</div>
      <div class="check-desc" data-lang="zh">Wasserman &amp; Faust (1994). <em>社会网络分析：方法与应用</em>. 剑桥大学出版社.</div>
    </div>
  </div>
</div>

<!-- PAGE NAV -->
<div class="page-nav pres-hide">
  <a class="pn-link pn-prev" href="/methods/reg-network.html">
    <span class="pn-arrow">&larr;</span>
    <span><span class="pn-title" data-lang="en">Network Analysis</span><span class="pn-title" data-lang="zh">网络分析</span></span>
  </a>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  CENTRALITY INTERACTIVE                            -->
<!-- ═══════════════════════════════════════════════════ -->
<script>
(function(){
  const centData = {
    degree:  { alice:18, bob:24, carol:18, dave:18, eve:12,
      en:'Degree: node size = number of connections. Bob has the most (3).',
      zh:'度中心性：节点大小 = 连接数。Bob 最多（3 条）。',
      detailEn:'<strong>Degree centrality</strong> — simply count edges: C<sub>D</sub>(i) = k<sub>i</sub> / (n−1). <em>Intuition:</em> who has the most direct contacts? Bob wins with 3. The most popular kid at the party. <em>Theory:</em> based on the adjacency matrix row sum, normalized by max possible ties.',
      detailZh:'<strong>度中心性</strong>——直接数边：C<sub>D</sub>(i) = k<sub>i</sub> / (n−1)。<em>直觉：</em>谁的直接联系最多？Bob 以 3 条胜出。派对上最受欢迎的人。<em>理论：</em>基于邻接矩阵行和，除以最大可能连接数进行标准化。' },
    between: { alice:12, bob:22, carol:12, dave:22, eve:10,
      en:'Betweenness: Bob and Dave are bridges. Remove either and the network splits.',
      zh:'中介中心性：Bob 和 Dave 是桥梁。移除任一个，网络就断裂。',
      detailEn:'<strong>Betweenness centrality</strong> — count shortest paths passing through a node: C<sub>B</sub>(i) = Σ σ<sub>st</sub>(i) / σ<sub>st</sub>. <em>Intuition:</em> who is the gatekeeper? Dave controls all information flow to Eve. Remove him, and Eve is completely cut off. <em>Theory:</em> based on Brandes\' algorithm; measures how often a node lies on geodesic paths between all other pairs.',
      detailZh:'<strong>中介中心性</strong>——统计经过节点的最短路径数：C<sub>B</sub>(i) = Σ σ<sub>st</sub>(i) / σ<sub>st</sub>。<em>直觉：</em>谁是看门人？Dave 控制着通向 Eve 的所有信息流。移除他，Eve 完全孤立。<em>理论：</em>基于 Brandes 算法，衡量节点出现在所有其他节点对之间测地路径上的频率。' },
    eigen:   { alice:20, bob:24, carol:20, dave:16, eve:10,
      en:'Eigenvector: Alice & Carol are tied to the well-connected Bob, boosting their score.',
      zh:'特征向量：Alice 和 Carol 连接着高连接度的 Bob，提升了她们的得分。',
      detailEn:'<strong>Eigenvector centrality</strong> — your score depends on your neighbors\' scores: x<sub>i</sub> = (1/λ) Σ A<sub>ij</sub> x<sub>j</sub>. <em>Intuition:</em> it\'s not just who you know, but how well-connected they are. Alice knows Bob (the hub), making her more central than Eve who only knows the peripheral Dave. <em>Theory:</em> the leading eigenvector of the adjacency matrix A. Google\'s PageRank is a variant of this idea.',
      detailZh:'<strong>特征向量中心性</strong>——你的得分取决于邻居的得分：x<sub>i</sub> = (1/λ) Σ A<sub>ij</sub> x<sub>j</sub>。<em>直觉：</em>不只看你认识谁，还看他们的连接度。Alice 认识 Bob（枢纽），因此比只认识边缘 Dave 的 Eve 更中心。<em>理论：</em>邻接矩阵 A 的主特征向量。Google 的 PageRank 是此思想的变体。' }
  };
  window.showCent = function(type){
    var d = centData[type];
    if(!d) return;
    var ids = ['alice','bob','carol','dave','eve'];
    ids.forEach(function(n){
      var el = document.getElementById('cn-'+n);
      if(el){ el.setAttribute('r', d[n]); el.setAttribute('opacity', d[n]/30); }
    });
    var cap = document.getElementById('cent-caption');
    var capZh = document.getElementById('cent-caption-zh');
    if(cap) cap.textContent = d.en;
    if(capZh) capZh.textContent = d.zh;
    // Update detail text
    var detEn = document.getElementById('cent-detail-en');
    var detZh = document.getElementById('cent-detail-zh');
    if(detEn) detEn.innerHTML = d.detailEn;
    if(detZh) detZh.innerHTML = d.detailZh;
    // Update button states
    document.querySelectorAll('.cent-btn').forEach(function(b){ b.classList.remove('active'); });
    document.querySelectorAll('.cent-btn').forEach(function(b){
      if(b.textContent.toLowerCase().indexOf(type) >= 0 ||
         (type==='degree' && b.textContent.indexOf('度中心') >= 0) ||
         (type==='between' && b.textContent.indexOf('中介') >= 0) ||
         (type==='eigen' && b.textContent.indexOf('特征') >= 0))
        b.classList.add('active');
    });
  };
})();
</script>

<!-- ═══════════════════════════════════════════════════ -->
<!--  PRESENTATION ENGINE                               -->
<!-- ═══════════════════════════════════════════════════ -->
<script>
(function(){
  let presenting = false;
  let current = 0;
  let slides = [];
  let counter, hint, progress;

  window.togglePresentation = function(){
    if(!presenting) enterPresentation();
    else exitPresentation();
  };

  function enterPresentation(){
    slides = Array.from(document.querySelectorAll('.slide'));
    if(!slides.length) return;

    presenting = true;
    current = 0;
    document.body.classList.add('presenting');

    // Create counter
    counter = document.createElement('div');
    counter.className = 'slide-counter';
    document.body.appendChild(counter);

    // Create ESC hint
    hint = document.createElement('div');
    hint.className = 'pres-esc';
    hint.textContent = 'ESC to exit';
    document.body.appendChild(hint);

    // Create progress bar
    progress = document.createElement('div');
    progress.className = 'pres-progress';
    document.body.appendChild(progress);

    showSlide(0);
    document.addEventListener('keydown', onKey);
  }

  function exitPresentation(){
    presenting = false;
    document.body.classList.remove('presenting');
    slides.forEach(s => s.classList.remove('active'));
    if(counter) { counter.remove(); counter = null; }
    if(hint) { hint.remove(); hint = null; }
    if(progress) { progress.remove(); progress = null; }
    document.removeEventListener('keydown', onKey);
  }

  function showSlide(idx){
    slides.forEach(s => s.classList.remove('active'));
    current = Math.max(0, Math.min(idx, slides.length - 1));
    slides[current].classList.add('active');
    slides[current].scrollTop = 0;
    if(counter) counter.textContent = (current+1) + ' / ' + slides.length;
    if(progress) progress.style.width = ((current+1)/slides.length*100) + '%';
  }

  function onKey(e){
    if(e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' '){
      e.preventDefault(); showSlide(current + 1);
    } else if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){
      e.preventDefault(); showSlide(current - 1);
    } else if(e.key === 'Escape'){
      exitPresentation();
    }
  }
})();
</script>
