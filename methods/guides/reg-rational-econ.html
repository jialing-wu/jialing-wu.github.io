---
layout: methods-guide
title: "Expected Utility & Decision Theory"
title_zh: "期望效用与决策理论"
parent_title: "Rational Choice Theory"
parent_title_zh: "理性选择理论"
parent_url: "reg-rational.html"
bilingual: true
mathjax: true
---

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<h2 id="eu-basics"><span data-lang="en">Expected Utility Theory: The Classical Framework</span><span data-lang="zh">期望效用理论：经典框架</span></h2>

<p data-lang="en">Expected Utility Theory (EUT), formalized by von Neumann and Morgenstern (1944), is the foundation of modern decision theory. The central idea is simple: a rational decision-maker should choose the option with the highest expected utility, not highest expected monetary value.</p>

<p data-lang="zh">期望效用理论（EUT），由von Neumann和Morgenstern（1944）正式化，是现代决策理论的基础。核心思想很简单：理性决策者应该选择期望效用最高的选项，而不是期望货币价值最高的选项。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Von Neumann-Morgenstern Axioms</span><span data-lang="zh">Von Neumann-Morgenstern公理</span></h3>

<p data-lang="en">Four axioms define rational preferences over lotteries:</p>

<p data-lang="zh">四条公理定义了对彩票的理性偏好：</p>

<ol style="margin: 15px 0; padding-left: 20px;">
  <li data-lang="en"><strong>Completeness:</strong> For any two lotteries A and B, you can rank them: either A ≻ B, B ≻ A, or A ~ B (indifferent).</li>
  <li data-lang="zh"><strong>完全性：</strong>对于任何两个彩票A和B，您可以排序它们：要么A ≻ B，要么B ≻ A，要么A ~ B（无差异）。</li>

  <li data-lang="en"><strong>Transitivity:</strong> If A ≻ B and B ≻ C, then A ≻ C. Your preferences are consistent.</li>
  <li data-lang="zh"><strong>传递性：</strong>如果A ≻ B且B ≻ C，则A ≻ C。您的偏好是一致的。</li>

  <li data-lang="en"><strong>Continuity:</strong> Preferences have no jumps. If A ≻ B ≻ C, there exists a probability p such that you're indifferent between B and a lottery [A with prob p, C with prob 1−p].</li>
  <li data-lang="zh"><strong>连续性：</strong>偏好没有跳跃。如果A ≻ B ≻ C，则存在概率p使您在B与彩票[A概率p、C概率1−p]之间无差异。</li>

  <li data-lang="en"><strong>Independence:</strong> If A ~ B, then [A mixed with C at prob p] ~ [B mixed with C at prob p]. Irrelevant alternatives don't matter.</li>
  <li data-lang="zh"><strong>独立性：</strong>如果A ~ B，则[A与C以概率p混合] ~ [B与C以概率p混合]。无关的替代品无关紧要。</li>
</ol>

<p data-lang="en">If these axioms hold, there exists a utility function U(·) such that:</p>

<p data-lang="zh">如果这些公理成立，则存在效用函数U(·)使得：</p>

<div class="math-note">
  <p style="text-align: center; font-size: 1.1em; margin: 15px 0;">
    EU(Lottery) = p₁U(x₁) + p₂U(x₂) + ... + pₙU(xₙ)
  </p>
  <p data-lang="en">where p_i is the probability of outcome x_i, and U(x_i) is the utility of that outcome.</p>
  <p data-lang="zh">其中p_i是结果x_i的概率，U(x_i)是该结果的效用。</p>
</div>

<h3 style="margin-top: 20px;"><span data-lang="en">Risk Attitudes from Utility Curvature</span><span data-lang="zh">从效用曲线看风险态度</span></h3>

<p data-lang="en">The shape of U(·) reveals your risk preferences:</p>

<p data-lang="zh">U(·)的形状揭示了您的风险偏好：</p>

<ul style="margin: 15px 0;">
  <li data-lang="en"><strong>Concave U(·):</strong> U'' < 0 (diminishing marginal utility). You prefer certain outcomes to fair gambles. <strong>Risk-averse.</strong></li>
  <li data-lang="zh"><strong>凹效用：</strong>U'' < 0（边际效用递减）。您更喜欢确定结果而不是公平赌博。<strong>风险厌恶。</strong></li>

  <li data-lang="en"><strong>Linear U(·):</strong> U(x) = ax + b. Indifferent between gamble and its expected value. <strong>Risk-neutral.</strong></li>
  <li data-lang="zh"><strong>线性效用：</strong>U(x) = ax + b。在赌博与其期望值之间无差异。<strong>风险中立。</strong></li>

  <li data-lang="en"><strong>Convex U(·):</strong> U'' > 0 (increasing marginal utility). Prefer gambles to certain outcomes. <strong>Risk-seeking.</strong></li>
  <li data-lang="zh"><strong>凸效用：</strong>U'' > 0（边际效用递增）。更喜欢赌博而不是确定结果。<strong>风险寻求。</strong></li>
</ul>

<h3 style="margin-top: 20px;"><span data-lang="en">The Certainty Equivalent</span><span data-lang="zh">确定等价物</span></h3>

<p data-lang="en">For a risky lottery, the <strong>certainty equivalent (CE)</strong> is the sure payment that makes you indifferent to the lottery:</p>

<p data-lang="zh">对于有风险的彩票，<strong>确定等价物（CE）</strong>是使您与彩票无差异的确定支付：</p>

<div class="math-note">
  <p style="text-align: center; font-size: 1.1em; margin: 15px 0;">
    U(CE) = EU(Lottery)
  </p>
</div>

<p data-lang="en"><strong>Risk premium:</strong> EU — CE. For risk-averse people, EU > CE (you'd take less than expected value to avoid risk).</p>

<p data-lang="zh"><strong>风险溢价：</strong>EU — CE。对于风险厌恶的人，EU > CE（您会接受少于期望值来避免风险）。</p>

<div class="insight-box">
  <p data-lang="en"><strong>Classic Example:</strong> You're offered a fair coin flip: heads = $100, tails = $0. Expected value = $50. But a risk-averse person might say "I'd accept $35 for sure." The CE is $35, the risk premium is $15. This person needs $15 of compensation to bear the uncertainty.</p>
  <p data-lang="zh"><strong>经典例子：</strong>您被提供一个公平的硬币翻转：正面= $100，反面= $0。期望值= $50。但风险厌恶的人可能会说"我会接受确定的$35"。CE是$35，风险溢价是$15。这个人需要$15的补偿来承担不确定性。</p>
</div>

<h2 id="eu-simulator"><span data-lang="en">Expected Utility Calculator</span><span data-lang="zh">期望效用计算器</span></h2>

<p data-lang="en">Use the interactive tool below to explore how risk aversion (the shape of your utility function) affects which lottery you choose. Adjust the risk aversion parameter and see how your preferences shift.</p>

<p data-lang="zh">使用下面的交互工具探索风险厌恶（效用函数的形状）如何影响您选择的彩票。调整风险厌恶参数，看您的偏好如何变化。</p>

<div class="sim-panel" style="background-color: var(--cream); padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid var(--gold);">
  <h3 style="margin-top: 0;" data-lang="en">Set Risk Aversion (α)</h3>
  <h3 style="margin-top: 0;" data-lang="zh">设置风险厌恶（α）</h3>

  <p data-lang="en" style="font-size: 0.9em; color: var(--ink-faded);">We use power utility: U(x) = x^α. Lower α means more concave (more risk-averse).</p>
  <p data-lang="zh" style="font-size: 0.9em; color: var(--ink-faded);">我们使用幂效用：U(x) = x^α。较低的α意味着更凹（更风险厌恶）。</p>

  <div class="ctrl-group" style="margin: 15px 0;">
    <label class="ctrl-label" data-lang="en">α (risk aversion):</label>
    <label class="ctrl-label" data-lang="zh">α（风险厌恶）:</label>
    <input type="range" id="alphaSlider" min="0.1" max="2" step="0.1" value="0.5" style="width: 200px; margin: 0 10px;">
    <span class="sval" id="alphaValue">0.5</span>
  </div>

  <p data-lang="en" style="font-size: 0.85em; margin: 10px 0;">
    <strong>α = 0.5:</strong> Concave (risk-averse) |
    <strong>α = 1.0:</strong> Linear (risk-neutral) |
    <strong>α = 1.5:</strong> Convex (risk-seeking)
  </p>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;">
    <div style="padding: 15px; background-color: var(--paper); border-radius: 4px; border-left: 3px solid #5b8fc4;">
      <p data-lang="en" style="margin: 0 0 10px 0;"><strong>Gamble A:</strong></p>
      <p data-lang="zh" style="margin: 0 0 10px 0;"><strong>赌博A：</strong></p>

      <div style="margin-bottom: 10px;">
        <label data-lang="en">Outcome 1:</label>
        <label data-lang="zh">结果1：</label>
        <input type="number" id="a1Outcome" value="100" style="width: 60px;"> $
        <span data-lang="en">with prob</span>
        <span data-lang="zh">概率为</span>
        <input type="number" id="a1Prob" value="50" min="0" max="100" style="width: 60px;"> %
      </div>

      <div>
        <label data-lang="en">Outcome 2:</label>
        <label data-lang="zh">结果2：</label>
        <input type="number" id="a2Outcome" value="0" style="width: 60px;"> $
        <span data-lang="en">with prob</span>
        <span data-lang="zh">概率为</span>
        <input type="number" id="a2Prob" value="50" min="0" max="100" style="width: 60px;"> %
      </div>

      <p style="margin-top: 10px; padding: 10px; background-color: var(--parchment); border-radius: 3px;">
        <span data-lang="en">Expected Value:</span>
        <span data-lang="zh">期望值：</span>
        <strong>$<span id="evA">50</span></strong>
      </p>

      <p style="margin-top: 8px; padding: 10px; background-color: #ffe6e6; border-radius: 3px;">
        <span data-lang="en">EU:</span>
        <span data-lang="zh">期望效用：</span>
        <strong><span id="euA">7.07</span></strong>
      </p>

      <p style="margin-top: 8px; padding: 10px; background-color: #e6f3ff; border-radius: 3px;">
        <span data-lang="en">Certainty Equiv:</span>
        <span data-lang="zh">确定等价物：</span>
        <strong>$<span id="ceA">25</span></strong>
      </p>
    </div>

    <div style="padding: 15px; background-color: var(--paper); border-radius: 4px; border-left: 3px solid #d9534f;">
      <p data-lang="en" style="margin: 0 0 10px 0;"><strong>Gamble B:</strong></p>
      <p data-lang="zh" style="margin: 0 0 10px 0;"><strong>赌博B：</strong></p>

      <div style="margin-bottom: 10px;">
        <label data-lang="en">Outcome 1:</label>
        <label data-lang="zh">结果1：</label>
        <input type="number" id="b1Outcome" value="80" style="width: 60px;"> $
        <span data-lang="en">with prob</span>
        <span data-lang="zh">概率为</span>
        <input type="number" id="b1Prob" value="75" min="0" max="100" style="width: 60px;"> %
      </div>

      <div>
        <label data-lang="en">Outcome 2:</label>
        <label data-lang="zh">结果2：</label>
        <input type="number" id="b2Outcome" value="20" style="width: 60px;"> $
        <span data-lang="en">with prob</span>
        <span data-lang="zh">概率为</span>
        <input type="number" id="b2Prob" value="25" min="0" max="100" style="width: 60px;"> %
      </div>

      <p style="margin-top: 10px; padding: 10px; background-color: var(--parchment); border-radius: 3px;">
        <span data-lang="en">Expected Value:</span>
        <span data-lang="zh">期望值：</span>
        <strong>$<span id="evB">70</span></strong>
      </p>

      <p style="margin-top: 8px; padding: 10px; background-color: #ffe6e6; border-radius: 3px;">
        <span data-lang="en">EU:</span>
        <span data-lang="zh">期望效用：</span>
        <strong><span id="euB">8.37</span></strong>
      </p>

      <p style="margin-top: 8px; padding: 10px; background-color: #e6f3ff; border-radius: 3px;">
        <span data-lang="en">Certainty Equiv:</span>
        <span data-lang="zh">确定等价物：</span>
        <strong>$<span id="ceB">54</span></strong>
      </p>
    </div>
  </div>

  <div style="margin-top: 20px; padding: 15px; background-color: var(--parchment); border-radius: 4px; text-align: center;">
    <p data-lang="en" id="recommendation" style="font-size: 1.1em; margin: 0;">
      <strong>Preferred gamble:</strong> B (higher EU)
    </p>
    <p data-lang="zh" id="recommendationZh" style="font-size: 1.1em; margin: 0;">
      <strong>偏好赌博：</strong>B（更高的EU）
    </p>
  </div>

  <div style="margin-top: 20px;">
    <canvas id="utilityChart" height="80"></canvas>
  </div>
</div>

<h2 id="eu-allais"><span data-lang="en">The Allais Paradox: A Challenge to EUT</span><span data-lang="zh">Allais悖论：对EUT的挑战</span></h2>

<p data-lang="en">In 1953, French economist Maurice Allais discovered a systematic violation of Expected Utility Theory. Most people's preferences contradict the independence axiom. Here's the famous problem:</p>

<p data-lang="zh">1953年，法国经济学家Maurice Allais发现了对期望效用理论的系统违反。大多数人的偏好与独立公理相悖。以下是著名的问题：</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Problem A (Choose one):</span><span data-lang="zh">问题A（选择一个）：</span></h3>

<div style="margin: 15px 0; padding: 15px; background-color: #fff0f0; border-radius: 4px;">
  <p data-lang="en"><strong>Option A1:</strong> $1 million for certain (100% chance)</p>
  <p data-lang="zh"><strong>选项A1：</strong>确定的100万美元（100%概率）</p>

  <p data-lang="en"><strong>Option A2:</strong> 10% chance of $5M, 89% chance of $1M, 1% chance of $0</p>
  <p data-lang="zh"><strong>选项A2：</strong>10% 概率获得500万美元，89% 概率获得100万美元，1% 概率获得0</p>
</div>

<p data-lang="en"><strong>What most people choose:</strong> A1 (certain $1M). The certainty is worth the expected value sacrifice.</p>

<p data-lang="zh"><strong>大多数人选择什么：</strong>A1（确定的100万美元）。确定性值得期望值牺牲。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Problem B (Choose one):</span><span data-lang="zh">问题B（选择一个）：</span></h3>

<div style="margin: 15px 0; padding: 15px; background-color: #f0f0ff; border-radius: 4px;">
  <p data-lang="en"><strong>Option B1:</strong> 11% chance of $1M, 89% chance of $0</p>
  <p data-lang="zh"><strong>选项B1：</strong>11% 概率获得100万美元，89% 概率获得0</p>

  <p data-lang="en"><strong>Option B2:</strong> 10% chance of $5M, 90% chance of $0</p>
  <p data-lang="zh"><strong>选项B2：</strong>10% 概率获得500万美元，90% 概率获得0</p>
</div>

<p data-lang="en"><strong>What most people choose:</strong> B2. The higher payoff is enticing even though probability is slightly lower.</p>

<p data-lang="zh"><strong>大多数人选择什么：</strong>B2。尽管概率略低，但更高的收益仍然有吸引力。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Why This Violates EUT</span><span data-lang="zh">为什么这违反EUT</span></h3>

<p data-lang="en">Let U(x) be your utility function. If you prefer A1 over A2, then:</p>

<p data-lang="zh">设U(x)为您的效用函数。如果您更喜欢A1而不是A2，则：</p>

<div class="math-note">
  <p style="text-align: center; font-size: 1.05em; margin: 10px 0;">
    U(1M) > 0.10·U(5M) + 0.89·U(1M) + 0.01·U(0)
  </p>
  <p style="text-align: center; font-size: 1.05em; margin: 10px 0;">
    0.11·U(1M) > 0.10·U(5M) + 0.01·U(0)  ... (i)
  </p>
</div>

<p data-lang="en">But if you prefer B2 over B1, then:</p>

<p data-lang="zh">但是，如果您更喜欢B2而不是B1，则：</p>

<div class="math-note">
  <p style="text-align: center; font-size: 1.05em; margin: 10px 0;">
    0.10·U(5M) + 0.90·U(0) > 0.11·U(1M) + 0.89·U(0)
  </p>
  <p style="text-align: center; font-size: 1.05em; margin: 10px 0;">
    0.10·U(5M) + 0.01·U(0) > 0.11·U(1M)  ... (ii)
  </p>
</div>

<p data-lang="en">But (i) and (ii) contradict each other! You cannot have both preferences and still satisfy EUT.</p>

<p data-lang="zh">但是（i）和（ii）彼此矛盾！您不能同时拥有这两个偏好并仍然满足EUT。</p>

<p data-lang="en"><strong>Interpretation:</strong> The independence axiom fails. The relative probability of $1M (11% vs 10%) drives your choice, not just the utilities and payoffs. This is the <strong>certainty effect</strong>: certain outcomes loom larger in our decision-making than probabilities suggest.</p>

<p data-lang="zh"><strong>解释：</strong>独立公理失败。100万美元的相对概率（11% vs 10%）驱动您的选择，而不仅仅是效用和收益。这是<strong>确定效应</strong>：在我们的决策中，确定结果比概率暗示的更占优势。</p>

<h2 id="pt-basics"><span data-lang="en">Prospect Theory: Kahneman & Tversky</span><span data-lang="zh">前景理论：Kahneman & Tversky</span></h2>

<p data-lang="en">Because of violations like the Allais paradox, Kahneman and Tversky developed Prospect Theory (1979) as an alternative to EUT. It acknowledges that humans evaluate outcomes relative to a reference point, not in absolute terms, and overweight small probabilities.</p>

<p data-lang="zh">由于Allais悖论这样的违反，Kahneman和Tversky开发了前景理论（1979）作为EUT的替代品。它认识到人类相对于参考点而不是绝对项评估结果，并高估了小概率。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Two Key Features of Prospect Theory</span><span data-lang="zh">前景理论的两个关键特征</span></h3>

<h4 data-lang="en">1. Reference Dependence & Loss Aversion</h4>
<h4 data-lang="zh">1. 参考依赖和损失厌恶</h4>

<p data-lang="en">Outcomes are evaluated as gains or losses relative to a reference point (typically the status quo, or an expected aspiration level), not absolute wealth.</p>

<p data-lang="zh">结果被评估为相对于参考点（通常是现状或预期抱负水平）的收益或损失，而不是绝对财富。</p>

<p data-lang="en">The value function is:</p>

<p data-lang="zh">价值函数是：</p>

<div class="math-note">
  <p style="text-align: center; margin: 10px 0;">
    v(x) = x^α for x ≥ 0 (gains)<br>
    v(x) = -λ(-x)^β for x < 0 (losses)
  </p>
  <p data-lang="en">Empirically: α ≈ 0.88, β ≈ 0.88, λ ≈ 2.25</p>
  <p data-lang="zh">实证：α ≈ 0.88，β ≈ 0.88，λ ≈ 2.25</p>
</div>

<p data-lang="en">The λ parameter is crucial: <strong>losses loom about 2.25 times larger than equivalent gains.</strong> This explains why people are reluctant to accept a fair bet ($50 win, $50 loss) — the pain of losing $50 outweighs the pleasure of winning $50.</p>

<p data-lang="zh">λ参数至关重要：<strong>损失的凸显程度大约是等效收益的2.25倍。</strong>这解释了为什么人们不愿接受公平的赌注（$50赢，$50输）——失去$50的痛苦超过赢得$50的快乐。</p>

<h4 data-lang="en">2. Probability Weighting</h4>
<h4 data-lang="zh">2. 概率加权</h4>

<p data-lang="en">People do not use objective probabilities directly in decision-making. Instead, they use a weighting function w(p) that:</p>

<p data-lang="zh">人们在决策中不直接使用客观概率。相反，他们使用权重函数w(p)：</p>

<ul style="margin: 15px 0;">
  <li data-lang="en"><strong>Overweights small probabilities:</strong> w(0.01) ≫ 0.01. A 1% chance feels more likely than it is.</li>
  <li data-lang="zh"><strong>高估小概率：</strong>w(0.01) ≫ 0.01。1%的概率感觉比实际的更可能。</li>

  <li data-lang="en"><strong>Underweights large probabilities:</strong> w(0.99) ≪ 0.99. A 99% chance feels less certain than it is.</li>
  <li data-lang="zh"><strong>低估大概率：</strong>w(0.99) ≪ 0.99。99%的概率感觉不如实际那么确定。</li>

  <li data-lang="en"><strong>w(0) = 0, w(1) = 1.</strong> Impossible and certain outcomes are weighted correctly.</li>
  <li data-lang="zh"><strong>w(0) = 0，w(1) = 1。</strong>不可能和确定的结果被正确加权。</li>
</ul>

<p data-lang="en">This probability weighting explains both the Allais paradox and common real-world phenomena: people buy lottery tickets (overweighting tiny win probabilities) and insurance (overweighting tiny loss probabilities).</p>

<p data-lang="zh">这个概率加权解释了Allais悖论和常见的现实现象：人们购买彩票（高估微小赢的概率）和保险（高估微小损失的概率）。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">The Four-Fold Pattern</span><span data-lang="zh">四折模式</span></h3>

<p data-lang="en">Prospect Theory predicts different risk attitudes in four scenarios, depending on whether outcomes are gains or losses and whether probabilities are high or low:</p>

<p data-lang="zh">前景理论在四种情景中预测不同的风险态度，取决于结果是收益还是损失，概率是高还是低：</p>

<table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
  <tr style="background-color: var(--cream);">
    <th style="border: 1px solid var(--ink-ghost); padding: 10px;"></th>
    <th style="border: 1px solid var(--ink-ghost); padding: 10px;" data-lang="en">Low Probability</th>
    <th style="border: 1px solid var(--ink-ghost); padding: 10px;" data-lang="zh">低概率</th>
    <th style="border: 1px solid var(--ink-ghost); padding: 10px;" data-lang="en">High Probability</th>
    <th style="border: 1px solid var(--ink-ghost); padding: 10px;" data-lang="zh">高概率</th>
  </tr>
  <tr>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: var(--parchment);" data-lang="en"><strong>Gains</strong></td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: var(--parchment);" data-lang="en"><strong>Risk-seeking</strong> (buy lottery)</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: var(--parchment);" data-lang="zh"><strong>风险寻求</strong>（买彩票）</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: var(--parchment);" data-lang="en"><strong>Risk-averse</strong> (take bird in hand)</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: var(--parchment);" data-lang="zh"><strong>风险厌恶</strong>（现有的鸟）</td>
  </tr>
  <tr>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: #f0f0f0;" data-lang="en"><strong>Losses</strong></td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: #f0f0f0;" data-lang="en"><strong>Risk-averse</strong> (avoid small loss risk)</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: #f0f0f0;" data-lang="zh"><strong>风险厌恶</strong>（避免小损失风险）</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: #f0f0f0;" data-lang="en"><strong>Risk-seeking</strong> (gamble to avoid loss)</td>
    <td style="border: 1px solid var(--ink-ghost); padding: 10px; background-color: #f0f0f0;" data-lang="zh"><strong>风险寻求</strong>（赌博以避免损失）</td>
  </tr>
</table>

<p data-lang="en">This explains some puzzles: why people buy insurance (certain loss aversion) but also lottery tickets (overweighting small win probability), and why losing investors become more risk-seeking ("doubling down").</p>

<p data-lang="zh">这解释了一些谜团：为什么人们购买保险（确定损失厌恶）但也购买彩票（高估小赢概率），以及为什么失败的投资者变得更风险寻求（"加倍下注"）。</p>

<h2 id="eu-applications"><span data-lang="en">Social Science Applications</span><span data-lang="zh">社会科学应用</span></h2>

<h3 style="margin-top: 20px;"><span data-lang="en">Voting and the Turnout Paradox</span><span data-lang="zh">投票和投票悖论</span></h3>

<p data-lang="en">Expected Utility Theory struggles with the "turnout paradox": the probability that your vote is decisive in a large election is vanishingly small (often <1 in 10 million). Yet millions vote. Under pure EUT with small p, the EU of voting is nearly zero — it shouldn't happen.</p>

<p data-lang="zh">期望效用理论在"投票悖论"中苦恼：您在大选中的一票是决定性的概率极小（通常<1000万分之一）。但数百万人投票。在纯EUT下，投票的EU几乎为零——不应该发生。</p>

<p data-lang="en"><strong>Prospect Theory insight:</strong> Voters may be overweighting the small probability of being decisive (via probability weighting w(p) >> p for small p), or they're driven by non-utilitarian motives (civic duty, social norm compliance). This suggests voting is not purely self-interested.</p>

<p data-lang="zh"><strong>前景理论见解：</strong>选民可能高估成为决定性投票的小概率（通过概率加权w(p) >> p对于小p），或者他们被非功利动机驱动（公民责任、社会规范遵守）。这表明投票不是纯粹的自利。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Insurance and Risk Markets</span><span data-lang="zh">保险和风险市场</span></h3>

<p data-lang="en">Why do risk-averse people buy insurance? Under EUT, you shouldn't: the insurance premium exceeds your expected loss (otherwise the insurer loses money). But loss aversion in Prospect Theory explains it: the utility loss from a potential disaster is so large (due to λ ≈ 2.25) that insurance feels worth it, even at a price above expected value.</p>

<p data-lang="zh">为什么风险厌恶的人购买保险？在EUT下，您不应该：保险费超过您的预期损失（否则保险公司亏损）。但前景理论中的损失厌恶解释了这一点：潜在灾难的效用损失非常大（由于λ ≈ 2.25），使得保险即使价格高于期望值也值得。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Health Decisions and Framing Effects</span><span data-lang="zh">健康决定和框架效应</span></h3>

<p data-lang="en">Tversky & Kahneman's "Asian Disease Problem" shows that framing changes preferences even though outcomes are identical:</p>

<p data-lang="zh">Tversky & Kahneman的"亚洲疾病问题"显示，框架改变偏好，尽管结果相同：</p>

<p data-lang="en"><strong>Positive frame (gains):</strong> "This program will save 200 lives." Risk-averse, people choose the sure option.</p>

<p data-lang="zh"><strong>积极框架（收益）：</strong>"这个计划将拯救200条生命。"风险厌恶，人们选择确定选项。</p>

<p data-lang="en"><strong>Negative frame (losses):</strong> "This program will prevent 400 deaths out of 600." Risk-seeking, people choose the gamble.</p>

<p data-lang="zh"><strong>负面框架（损失）：</strong>"这个计划将在600人中防止400人死亡。"风险寻求，人们选择赌博。</p>

<p data-lang="en">Same outcomes, different frames → different choices. This violates EUT (which is frame-invariant) but is predicted by Prospect Theory.</p>

<p data-lang="zh">相同的结果，不同的框架→不同的选择。这违反EUT（框架不变），但由前景理论预测。</p>

<h3 style="margin-top: 20px;"><span data-lang="en">Behavioral Nudges and Policy</span><span data-lang="zh">行为推助和政策</span></h3>

<p data-lang="en">Thaler & Sunstein's "nudge" concept leverages insights from both EUT and Prospect Theory:</p>

<p data-lang="zh">Thaler & Sunstein的"推助"概念利用EUT和前景理论的见解：</p>

<ul style="margin: 15px 0;">
  <li data-lang="en"><strong>Default options:</strong> Because loss aversion makes change costly (relative to status quo), setting good defaults dramatically changes behavior without restricting choice.</li>
  <li data-lang="zh"><strong>默认选项：</strong>因为损失厌恶使改变相对于现状成本高昂，设置好的默认值会大幅改变行为而不限制选择。</li>

  <li data-lang="en"><strong>Framing:</strong> Presenting outcomes as gains or losses (rather than absolute amounts) influences decisions. E.g., "85% of people saved" vs "15% died" from the same treatment.</li>
  <li data-lang="zh"><strong>框架：</strong>将结果呈现为收益或损失（而不是绝对金额）会影响决定。例如，"85%的人获救"与来自同一治疗的"15%死亡"相比。</li>

  <li data-lang="en"><strong>Social norms:</strong> Highlighting what others do ("most people recycle") exploits loss aversion and conformity.</li>
  <li data-lang="zh"><strong>社会规范：</strong>突出其他人的所作所为（"大多数人回收"）利用损失厌恶和从众性。</li>
</ul>

<div class="insight-box">
  <p data-lang="en"><strong>Key Takeaway:</strong> Expected Utility Theory provides a powerful normative framework (how rational people should decide), but Prospect Theory describes how people actually decide. Understanding both is essential for building empirically-grounded models of social behavior, from voting to health choices to financial decisions. Behavioral insights can improve policy without paternalism by respecting people's preferences while accounting for predictable biases.</p>
  <p data-lang="zh"><strong>关键要点：</strong>期望效用理论提供了一个强大的规范框架（理性人应该如何决定），但前景理论描述了人们实际如何决定。理解两者对于建立经验基础的社会行为模型至关重要，从投票到健康选择再到财务决定。行为见解可以通过尊重人们的偏好同时考虑可预测的偏见来改进政策而不带父权主义。</p>
</div>

<script>
// Expected Utility Calculator
const alphaSlider = document.getElementById('alphaSlider');
const alphaValue = document.getElementById('alphaValue');

const a1Outcome = document.getElementById('a1Outcome');
const a1Prob = document.getElementById('a1Prob');
const a2Outcome = document.getElementById('a2Outcome');
const a2Prob = document.getElementById('a2Prob');

const b1Outcome = document.getElementById('b1Outcome');
const b1Prob = document.getElementById('b1Prob');
const b2Outcome = document.getElementById('b2Outcome');
const b2Prob = document.getElementById('b2Prob');

let utilityChart = null;

function computeUtility(x, alpha) {
  if (x <= 0) return 0;
  return Math.pow(x, alpha);
}

function computeEU(x1, p1, x2, p2, alpha) {
  const u1 = computeUtility(x1, alpha);
  const u2 = computeUtility(x2, alpha);
  return (p1 / 100) * u1 + (p2 / 100) * u2;
}

function findCE(eu, alpha) {
  // Binary search for CE such that U(CE) = EU
  let low = 0, high = 200;
  for (let i = 0; i < 50; i++) {
    const mid = (low + high) / 2;
    if (computeUtility(mid, alpha) < eu) {
      low = mid;
    } else {
      high = mid;
    }
  }
  return (low + high) / 2;
}

function updateCalculator() {
  const alpha = parseFloat(alphaSlider.value);
  alphaValue.textContent = alpha.toFixed(1);

  const x1a = parseFloat(a1Outcome.value) || 0;
  const p1a = parseFloat(a1Prob.value) || 0;
  const x2a = parseFloat(a2Outcome.value) || 0;
  const p2a = parseFloat(a2Prob.value) || 0;

  const x1b = parseFloat(b1Outcome.value) || 0;
  const p1b = parseFloat(b1Prob.value) || 0;
  const x2b = parseFloat(b2Outcome.value) || 0;
  const p2b = parseFloat(b2Prob.value) || 0;

  // Normalize probabilities
  const pSumA = p1a + p2a;
  const pSumB = p1b + p2b;

  // Compute EU for A and B
  const euA = computeEU(x1a, p1a, x2a, p2a, alpha);
  const euB = computeEU(x1b, p1b, x2b, p2b, alpha);

  // Compute CE
  const ceA = findCE(euA, alpha);
  const ceB = findCE(euB, alpha);

  // Compute EV
  const evA = (p1a / 100) * x1a + (p2a / 100) * x2a;
  const evB = (p1b / 100) * x1b + (p2b / 100) * x2b;

  // Update displays
  document.getElementById('euA').textContent = euA.toFixed(2);
  document.getElementById('ceA').textContent = ceA.toFixed(0);
  document.getElementById('evA').textContent = evA.toFixed(0);

  document.getElementById('euB').textContent = euB.toFixed(2);
  document.getElementById('ceB').textContent = ceB.toFixed(0);
  document.getElementById('evB').textContent = evB.toFixed(0);

  // Recommendation
  const recEn = document.querySelector('[data-lang="en"]#recommendation');
  const recZh = document.querySelector('[data-lang="zh"]#recommendationZh');
  if (euA > euB) {
    if (recEn) recEn.textContent = 'Preferred gamble: A (higher EU)';
    if (recZh) recZh.textContent = '偏好赌博：A（更高的EU）';
  } else if (euB > euA) {
    if (recEn) recEn.textContent = 'Preferred gamble: B (higher EU)';
    if (recZh) recZh.textContent = '偏好赌博：B（更高的EU）';
  } else {
    if (recEn) recEn.textContent = 'Indifferent between A and B (same EU)';
    if (recZh) recZh.textContent = '在A和B之间无差异（相同的EU）';
  }

  // Update utility curve chart
  updateUtilityChart(alpha);
}

function updateUtilityChart(alpha) {
  const ctx = document.getElementById('utilityChart');
  if (!ctx) return;

  const xValues = [];
  const yValues = [];
  for (let x = 0; x <= 100; x += 2) {
    xValues.push(x);
    yValues.push(computeUtility(x, alpha));
  }

  if (utilityChart) {
    utilityChart.data.labels = xValues;
    utilityChart.data.datasets[0].data = yValues;
    utilityChart.update();
  } else {
    utilityChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: xValues,
        datasets: [{
          label: 'Utility U(x) = x^α',
          data: yValues,
          borderColor: '#5b8fc4',
          backgroundColor: 'rgba(91, 143, 196, 0.1)',
          tension: 0.4,
          fill: true,
          pointRadius: 0
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: true,
        plugins: {
          legend: { display: true, labels: { color: 'var(--ink)' } }
        },
        scales: {
          x: {
            title: { display: true, text: 'Wealth ($)', color: 'var(--ink)' },
            ticks: { color: 'var(--ink)' },
            grid: { color: 'var(--ink-ghost)' }
          },
          y: {
            title: { display: true, text: 'Utility', color: 'var(--ink)' },
            ticks: { color: 'var(--ink)' },
            grid: { color: 'var(--ink-ghost)' }
          }
        }
      }
    });
  }
}

alphaSlider.addEventListener('input', updateCalculator);
a1Outcome.addEventListener('input', updateCalculator);
a1Prob.addEventListener('input', updateCalculator);
a2Outcome.addEventListener('input', updateCalculator);
a2Prob.addEventListener('input', updateCalculator);
b1Outcome.addEventListener('input', updateCalculator);
b1Prob.addEventListener('input', updateCalculator);
b2Outcome.addEventListener('input', updateCalculator);
b2Prob.addEventListener('input', updateCalculator);

// Initialize
updateCalculator();
</script>
