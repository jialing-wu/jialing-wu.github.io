---
layout: methods-course
title: "ERGM Derivation"
breadcrumb: "Computational Social Science"
mathjax: true
---

<style>
/* ══════════════════════════════════════════════════════
   PRESENTATION MODE
   ══════════════════════════════════════════════════════ */

/* Toggle button */
.pres-toggle{
  display:inline-flex;align-items:center;gap:10px;
  font-family:var(--sans);font-size:11.5px;font-weight:600;
  letter-spacing:.08em;text-transform:uppercase;
  color:var(--red);background:var(--paper);
  border:1px solid var(--red);border-radius:4px;
  padding:10px 22px;cursor:pointer;
  transition:all .3s ease;
  margin-bottom:28px;
  box-shadow:0 1px 3px rgba(30,24,15,.06);
}
.pres-toggle:hover{
  background:var(--red);color:var(--paper);
  border-color:var(--red);
  box-shadow:0 2px 8px rgba(181,55,42,.18);
  transform:translateY(-1px);
}
.pres-toggle .pres-icon{font-size:14px;transition:transform .3s}
.pres-toggle:hover .pres-icon{transform:scale(1.15)}

/* Hide chrome */
body.presenting .sidebar,
body.presenting .sidebar-overlay,
body.presenting .topbar,
body.presenting .page-toc,
body.presenting .pres-toggle,
body.presenting .page-nav,
body.presenting .pres-hide{display:none!important}

body.presenting .layout{display:block}
body.presenting .main{margin:0;padding:0;width:100vw}
body.presenting .content{max-width:100vw!important;padding:0!important;margin:0!important}

/* Slide container */
body.presenting .slide{
  display:none;width:100vw;height:100vh;
  padding:56px 0;box-sizing:border-box;
  overflow-y:auto;background:var(--paper);
}
body.presenting .slide.active{
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  animation:slideIn .35s ease-out;
}
@keyframes slideIn{
  from{opacity:0;transform:translateY(12px)}
  to{opacity:1;transform:translateY(0)}
}
body.presenting .slide > *{
  width:100%;max-width:920px;
  padding-left:48px;padding-right:48px;
  box-sizing:border-box;
}

/* Presentation typography */
body.presenting .slide .slide-num{font-size:11px;margin-bottom:10px}
body.presenting .slide h2{font-size:2.4rem;margin-bottom:24px;line-height:1.2;letter-spacing:-.02em}
body.presenting .slide h3{font-size:1.5rem;margin-bottom:14px}
body.presenting .slide p,
body.presenting .slide li{font-size:1.12rem;line-height:1.9}
body.presenting .slide .method-desc{font-size:1.12rem;line-height:1.9;margin-bottom:18px}
body.presenting .slide .method-analogy{font-size:1.08rem;line-height:1.85}
body.presenting .slide .method-when{font-size:1.08rem;line-height:1.85}

/* Presentation: math blocks */
body.presenting .math-block{padding:28px 32px;font-size:1.15rem}
body.presenting .deriv-arrow{font-size:1.1rem}

/* Slide counter, ESC hint, progress bar */
body.presenting .slide-counter{
  position:fixed;bottom:28px;right:36px;
  font-family:var(--sans);font-size:12px;font-weight:500;
  color:var(--ink-ghost);letter-spacing:.06em;z-index:999;
}
body.presenting .pres-esc{
  position:fixed;top:24px;right:32px;
  font-family:var(--sans);font-size:10.5px;font-weight:500;
  color:var(--ink-ghost);letter-spacing:.06em;
  opacity:.5;z-index:999;
  background:rgba(248,244,236,.8);
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
  padding:6px 14px;border-radius:4px;
}
body.presenting .pres-progress{
  position:fixed;top:0;left:0;height:2.5px;
  background:linear-gradient(90deg,var(--red),var(--gold));
  z-index:999;transition:width .4s ease;
}

/* ══════════════════════════════════════════════════════
   NORMAL MODE — PAGE-SPECIFIC COMPONENTS
   ══════════════════════════════════════════════════════ */

/* Section number badge */
.slide-num{
  font-family:var(--sans);font-size:10.5px;font-weight:600;
  letter-spacing:.14em;text-transform:uppercase;
  color:var(--gold);margin-bottom:14px;
  opacity:.85;
}

/* ── Math display blocks ─────────────────────────── */
.math-block{
  background:var(--warm);
  border:1px solid var(--parchment);
  border-left:3px solid var(--gold);
  border-radius:0 4px 4px 0;
  padding:20px 24px;
  margin:20px 0;
  overflow-x:auto;
  font-size:15px;
  line-height:1.85;
}
.math-block .mjx-chtml{font-size:105%!important}
.math-label{
  font-family:var(--sans);font-size:10px;font-weight:700;
  letter-spacing:.12em;text-transform:uppercase;
  color:var(--gold);margin-bottom:8px;display:block;
}

/* ── Derivation arrow between blocks ──────────────── */
.deriv-arrow{
  text-align:center;font-size:15px;
  color:var(--tea);padding:6px 0;
  opacity:.7;font-family:var(--sans);
  letter-spacing:.08em;
}

/* ── Highlight box (key insight) ──────────────────── */
.insight-box{
  background:rgba(181,55,42,.04);
  border:1px solid rgba(181,55,42,.15);
  border-left:3px solid var(--red);
  padding:18px 22px;border-radius:0 4px 4px 0;
  margin:24px 0;font-size:14.5px;line-height:1.75;
  color:var(--ink-faded);
}
.insight-box strong{color:var(--red);font-style:normal}

/* ── method-when ──────────────────────────────────── */
.method-when{
  margin:16px 0;padding:14px 18px;border-radius:0 4px 4px 0;
  background:rgba(194,153,61,.04);
  border:1px solid rgba(194,153,61,.15);
  border-left:3px solid var(--gold);
  font-size:14.5px;line-height:1.7;color:var(--ink-faded);
}
.method-when strong{color:var(--leather);font-style:normal}

/* ── Red emphasis ──────────────────────────────────── */
.red-em{color:var(--red);font-weight:600}

/* ── Variable list ────────────────────────────────── */
.var-list{
  margin:14px 0;padding:0;list-style:none;
}
.var-list li{
  font-size:14px;line-height:1.8;color:var(--ink-faded);
  padding:6px 0 6px 20px;
  border-left:2px solid var(--parchment);
  margin-bottom:4px;
  transition:border-left-color .2s;
}
.var-list li:hover{border-left-color:var(--gold)}
.var-list li code{
  font-family:var(--mono);font-size:13px;
  background:rgba(194,153,61,.08);
  padding:1px 5px;border-radius:3px;
  color:var(--ink-soft);
}

/* ── Summary flow diagram ────────────────────────── */
.summary-flow{
  display:flex;flex-direction:column;align-items:center;
  gap:0;margin:28px 0;
}
.summary-step{
  background:var(--paper);border:1px solid var(--parchment);
  border-radius:6px;padding:16px 24px;text-align:center;
  width:100%;max-width:520px;
  transition:all .25s ease;
  box-shadow:0 1px 4px rgba(30,24,15,.04);
}
.summary-step:hover{
  border-color:var(--gold-soft);
  box-shadow:0 3px 10px rgba(194,153,61,.1);
  transform:translateY(-2px);
}
.summary-step .ss-label{
  font-family:var(--sans);font-size:10px;font-weight:700;
  color:var(--gold);letter-spacing:.12em;
  text-transform:uppercase;margin-bottom:4px;
}
.summary-step .ss-formula{font-size:15px;color:var(--ink-soft);line-height:1.7}
.summary-arrow{font-size:18px;color:var(--tea);padding:4px 0;opacity:.7}

/* ── Section divider ──────────────────────────────── */
.section-divider{
  border:none;border-top:1px solid var(--parchment);
  margin:40px 0;opacity:.6;
}

/* ── Hyperlink styling ────────────────────────────── */
.method-desc a{
  color:var(--red);text-decoration:none;
  border-bottom:1px solid rgba(181,55,42,.2);
  padding-bottom:1px;
  transition:color .2s, border-color .2s;
}
.method-desc a:hover{
  color:var(--gold);
  border-bottom-color:var(--gold);
}

/* ── Override intro-cards to 2-col ─────────────────── */
.intro-cards{grid-template-columns:1fr 1fr!important}

/* ── Responsive ──────────────────────────────────── */
@media(max-width:700px){
  .summary-flow{gap:0}
  .summary-step{padding:12px 16px}
  body.presenting .slide > *{padding-left:24px;padding-right:24px}
}
@media(max-width:900px){
  body.presenting .slide h2{font-size:1.8rem}
  body.presenting .slide .method-desc{font-size:1rem}
}
</style>

<!-- PRESENTATION TOGGLE -->
<button class="pres-toggle" onclick="togglePresentation()">
  <span class="pres-icon">▶</span>
  <span>Presentation Mode</span>
</button>

<!-- ═══════════════════════════════════════════════════ -->
<!--  TITLE SLIDE                                       -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-title">
  <div class="method-header">
    <h1>ERGM Mathematical Derivation</h1>
    <div class="method-meta">Computational Social Science · Network Analysis</div>
  </div>
  <div class="intro-cards">
    <div class="intro-card">
      <div class="card-label">What Is This?</div>
      <div><p>A step-by-step mathematical derivation of the Exponential Random Graph Model (ERGM). We start from a simple question — "what is the probability of observing this network?" — and arrive at a logistic regression form.</p></div>
    </div>
    <div class="intro-card">
      <div class="card-label">Prerequisites</div>
      <div><p>Familiarity with basic network concepts (nodes, edges, adjacency matrix). Basic understanding of probability and logarithms. No prior ERGM knowledge needed.</p></div>
    </div>
  </div>
</div>

<hr class="section-divider pres-hide">

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 0: STARTING POINT                            -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-start">
  <div class="slide-num">Starting Point</div>
  <h2>What Do We Want?</h2>

  <p class="method-desc">We want to answer a fundamental question: <span class="red-em">what is the probability of observing a particular network \(y\)?</span> That is, among all the networks that could exist with these nodes, why did we see this specific pattern of ties?</p>

  <div class="math-block">
    <span class="math-label">The Question</span>
    $$P(Y = y) = \;?$$
  </div>

  <div class="method-when"><strong>Goal:</strong> Build a model that assigns higher probability to networks whose structural patterns (reciprocity, triangles, etc.) match what we observe in real social systems.</div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 1: THE SIMPLEST IDEA                         -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step1">
  <div class="slide-num">Step 1</div>
  <h2>The Simplest Idea</h2>

  <p class="method-desc">If every tie in the network were <span class="red-em">independent and random</span>, every possible network would be equally likely:</p>

  <div class="math-block">
    <span class="math-label">Uniform Distribution</span>
    $$P(Y = y) = C \quad \text{(some constant)}$$
  </div>

  <div class="insight-box"><strong>Problem:</strong> This is too simple — it tells us nothing about network structure. Real networks are not random: friendships cluster, advice flows to experts, and ties tend to be reciprocated. We need a model that captures these patterns.</div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 2: NETWORK STRUCTURE MATTERS                 -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step2">
  <div class="slide-num">Step 2</div>
  <h2>Network Structure Matters</h2>

  <p class="method-desc">We want to say: certain <span class="red-em">patterns</span> (reciprocity, triangles) make a network more likely to appear. So we define a "score" for any network:</p>

  <div class="math-block">
    <span class="math-label">Network Score</span>
    $$\text{score}(y) = \theta_1 \times g_1(y) + \theta_2 \times g_2(y)$$
  </div>

  <ul class="var-list">
    <li>\(g_1(y)\) = number of <strong>reciprocal pairs</strong> in the network</li>
    <li>\(g_2(y)\) = number of <strong>triangles</strong> in the network</li>
    <li>\(\theta_1, \theta_2\) = <strong>weights</strong> (parameters) for each pattern</li>
  </ul>

  <div class="method-when"><strong>Intuition:</strong> Higher score → this network is more likely to be observed. A positive \(\theta_1\) means reciprocity makes a network more probable; a negative one means reciprocity is suppressed.</div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 3: SCORE → PROBABILITY                       -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step3">
  <div class="slide-num">Step 3</div>
  <h2>Turn "Score" into "Probability"</h2>

  <p class="method-desc">Probabilities must be <span class="red-em">positive</span>, but our score can be any real number. The exponential function solves this — it maps any number to a positive value:</p>

  <div class="math-block">
    <span class="math-label">Exponentiate</span>
    $$P(Y = y) \;\propto\; \exp\!\Big(\theta_1 \cdot g_1(y) + \theta_2 \cdot g_2(y)\Big)$$
  </div>

  <div class="method-when"><strong>Note:</strong> The symbol \(\propto\) means "proportional to" — this is not a true probability yet because all probabilities must sum to 1. We fix that in the next step.</div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 4: NORMALIZE                                 -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step4">
  <div class="slide-num">Step 4</div>
  <h2>Make Probabilities Sum to 1</h2>

  <p class="method-desc">We divide by a <span class="red-em">normalizing constant</span> \(\kappa\) — the sum of the exponentiated scores over <em>every possible network</em>:</p>

  <div class="math-block">
    <span class="math-label">Normalizing Constant</span>
    $$\kappa = \sum_{y' \in \mathcal{Y}} \exp\!\Big(\theta_1 \cdot g_1(y') + \theta_2 \cdot g_2(y')\Big)$$
  </div>

  <div class="deriv-arrow">▼</div>

  <div class="math-block" style="border-left-color:var(--red)">
    <span class="math-label" style="color:var(--red)">The Full ERGM Formula</span>
    $$\boxed{\;P(Y = y) = \frac{1}{\kappa}\,\exp\!\Big(\theta_1 \cdot g_1(y) + \theta_2 \cdot g_2(y)\Big)\;}$$
  </div>

  <div class="insight-box"><strong>The catch:</strong> For a network with \(n\) nodes, there are \(2^{n(n-1)}\) possible directed networks. Even with just 20 nodes, that's over \(10^{114}\) networks. Computing \(\kappa\) by brute force is impossible. But — as we'll see — it cancels out!</div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 5: ZOOM IN ON A SINGLE TIE                   -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step5">
  <div class="slide-num">Step 5</div>
  <h2>Zoom In on a Single Tie</h2>

  <p class="method-desc">Instead of asking about the entire network, ask a more practical question: <span class="red-em">what is the probability that the tie Alice → Bob exists?</span></p>

  <p class="method-desc">Define two network states:</p>

  <ul class="var-list">
    <li>\(y^+_{ij}\) = the network <strong>with</strong> the tie Alice → Bob</li>
    <li>\(y^-_{ij}\) = the network <strong>without</strong> the tie Alice → Bob</li>
  </ul>

  <p class="method-desc">The <strong>odds</strong> of this tie existing (holding all other ties fixed):</p>

  <div class="math-block">
    <span class="math-label">Odds of a Single Tie</span>
    $$\frac{P(Y = y^+_{ij})}{P(Y = y^-_{ij})} = \frac{\;\dfrac{1}{\kappa}\exp\!\Big(\theta_1 g_1(y^+) + \theta_2 g_2(y^+)\Big)\;}{\;\dfrac{1}{\kappa}\exp\!\Big(\theta_1 g_1(y^-) + \theta_2 g_2(y^-)\Big)\;}$$
  </div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 6: κ CANCELS OUT                             -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step6">
  <div class="slide-num">Step 6</div>
  <h2>\(\kappa\) Cancels Out</h2>

  <p class="method-desc">\(\kappa\) appears in both the numerator and denominator, so it <span class="red-em">disappears</span>:</p>

  <div class="math-block">
    <span class="math-label">κ Cancels</span>
    $$\text{odds} = \frac{\exp\!\Big(\theta_1 g_1(y^+) + \theta_2 g_2(y^+)\Big)}{\exp\!\Big(\theta_1 g_1(y^-) + \theta_2 g_2(y^-)\Big)}$$
  </div>

  <p class="method-desc">Using the rule \(\exp(A)/\exp(B) = \exp(A - B)\):</p>

  <div class="deriv-arrow">▼</div>

  <div class="math-block" style="border-left-color:var(--red)">
    <span class="math-label" style="color:var(--red)">Simplified</span>
    $$\text{odds} = \exp\!\Big(\theta_1\big[g_1(y^+) - g_1(y^-)\big] + \theta_2\big[g_2(y^+) - g_2(y^-)\big]\Big)$$
  </div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 7: DEFINE Δg                                 -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step7">
  <div class="slide-num">Step 7</div>
  <h2>Define the Change Statistics \(\Delta g\)</h2>

  <p class="method-desc">The differences in the brackets have a special name — <span class="red-em">change statistics</span>:</p>

  <div class="math-block">
    <span class="math-label">Change Statistic</span>
    $$\Delta g_k = g_k(y^+_{ij}) - g_k(y^-_{ij})$$
  </div>

  <div class="method-when"><strong>In words:</strong> \(\Delta g_1\) answers "how much does the reciprocity count change when we add this one tie?" For example, if Bob already has a tie to Alice, then adding Alice → Bob creates one new reciprocal pair, so \(\Delta g_1 = 1\).</div>

  <p class="method-desc">Substituting \(\Delta g\) into our formula:</p>

  <div class="math-block" style="border-left-color:var(--red)">
    <span class="math-label" style="color:var(--red)">Odds with Change Statistics</span>
    $$\text{odds} = \exp\!\Big(\theta_1 \,\Delta g_1 + \theta_2 \,\Delta g_2\Big)$$
  </div>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  STEP 8: LOG → LOGISTIC REGRESSION                 -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-step8">
  <div class="slide-num">Step 8</div>
  <h2>Take the Log of Both Sides</h2>

  <p class="method-desc">Taking the natural logarithm:</p>

  <div class="math-block" style="border-left-color:var(--red)">
    <span class="math-label" style="color:var(--red)">Logistic Regression Form</span>
    $$\boxed{\;\log(\text{odds}) = \theta_1 \times \Delta g_1 + \theta_2 \times \Delta g_2\;}$$
  </div>

  <p class="method-desc">This is <span class="red-em">exactly the form of logistic regression</span>. The log-odds of a tie existing is a linear combination of the change statistics, weighted by the model parameters.</p>

  <div class="method-when"><strong>Interpretation:</strong> Each \(\theta_k\) is a log-odds ratio, just like in logistic regression. For instance, if \(\theta_1 = 0.8\), then a tie that creates one new reciprocal pair has \(e^{0.8} \approx 2.2\times\) higher odds of existing.</div>
</div>

<hr class="section-divider pres-hide">

<!-- ═══════════════════════════════════════════════════ -->
<!--  SUMMARY: FULL DERIVATION AT A GLANCE              -->
<!-- ═══════════════════════════════════════════════════ -->
<div class="slide" id="slide-summary">
  <div class="slide-num">Summary</div>
  <h2>Full Derivation at a Glance</h2>

  <div class="summary-flow">
    <div class="summary-step">
      <div class="ss-label">Probability of Entire Network</div>
      <div class="ss-formula">$$P(Y=y) = \frac{1}{\kappa}\exp\!\Big(\textstyle\sum_k \theta_k\, g_k(y)\Big)$$</div>
    </div>
    <div class="summary-arrow">▼</div>
    <div class="summary-step" style="font-family:var(--sans);font-size:12px;color:var(--ink-ghost);letter-spacing:.04em;padding:10px 24px">
      <span>divide two states → \(\kappa\) cancels</span>
    </div>
    <div class="summary-arrow">▼</div>
    <div class="summary-step">
      <div class="ss-label">Odds of a Single Tie</div>
      <div class="ss-formula">$$\text{odds} = \exp\!\Big(\textstyle\sum_k \theta_k\, \Delta g_k\Big)$$</div>
    </div>
    <div class="summary-arrow">▼</div>
    <div class="summary-step" style="font-family:var(--sans);font-size:12px;color:var(--ink-ghost);letter-spacing:.04em;padding:10px 24px">
      <span>take log of both sides</span>
    </div>
    <div class="summary-arrow">▼</div>
    <div class="summary-step" style="border-color:var(--red);border-left:3px solid var(--red)">
      <div class="ss-label" style="color:var(--red)">Logistic Regression Form</div>
      <div class="ss-formula">$$\log(\text{odds}) = \textstyle\sum_k \theta_k\, \Delta g_k$$</div>
    </div>
  </div>

  <div class="insight-box"><strong>The key insight:</strong> \(\kappa\) is computationally intractable — but it cancels naturally in the derivation. This is why we can estimate \(\theta\) using MCMC (Markov Chain Monte Carlo) without ever computing \(\kappa\) directly.</div>
</div>

<!-- PAGE NAV -->
<div class="page-nav pres-hide">
  <a class="pn-link pn-prev" href="sample-network-intro.html">
    <span class="pn-arrow">&larr;</span>
    <span><span class="pn-title">Network Analysis</span></span>
  </a>
</div>

<!-- ═══════════════════════════════════════════════════ -->
<!--  PRESENTATION ENGINE                               -->
<!-- ═══════════════════════════════════════════════════ -->
<script>
(function(){
  let presenting = false;
  let current = 0;
  let slides = [];
  let counter, hint, progress;

  window.togglePresentation = function(){
    if(!presenting) enterPresentation();
    else exitPresentation();
  };

  function enterPresentation(){
    slides = Array.from(document.querySelectorAll('.slide'));
    if(!slides.length) return;

    presenting = true;
    current = 0;
    document.body.classList.add('presenting');

    counter = document.createElement('div');
    counter.className = 'slide-counter';
    document.body.appendChild(counter);

    hint = document.createElement('div');
    hint.className = 'pres-esc';
    hint.textContent = 'ESC to exit \u00b7 \u2190\u2192 navigate';
    hint.style.transition = 'opacity .8s ease';
    document.body.appendChild(hint);
    setTimeout(function(){ if(hint) hint.style.opacity = '0'; }, 3000);
    setTimeout(function(){ if(hint) hint.style.opacity = '.5'; }, 3800);

    progress = document.createElement('div');
    progress.className = 'pres-progress';
    document.body.appendChild(progress);

    showSlide(0);
    document.addEventListener('keydown', onKey);

    /* Re-render MathJax in presentation mode */
    if(window.MathJax && MathJax.typesetPromise){
      MathJax.typesetPromise();
    }
  }

  function exitPresentation(){
    presenting = false;
    document.body.classList.remove('presenting');
    slides.forEach(s => s.classList.remove('active'));
    if(counter) { counter.remove(); counter = null; }
    if(hint) { hint.remove(); hint = null; }
    if(progress) { progress.remove(); progress = null; }
    document.removeEventListener('keydown', onKey);
  }

  function showSlide(idx){
    slides.forEach(s => s.classList.remove('active'));
    current = Math.max(0, Math.min(idx, slides.length - 1));
    slides[current].classList.add('active');
    slides[current].scrollTop = 0;
    if(counter) counter.textContent = (current+1) + ' / ' + slides.length;
    if(progress) progress.style.width = ((current+1)/slides.length*100) + '%';
    /* Typeset math on slide change */
    if(window.MathJax && MathJax.typesetPromise){
      MathJax.typesetPromise([slides[current]]);
    }
  }

  function onKey(e){
    if(e.key === 'ArrowRight' || e.key === 'ArrowDown' || e.key === ' '){
      e.preventDefault(); showSlide(current + 1);
    } else if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){
      e.preventDefault(); showSlide(current - 1);
    } else if(e.key === 'Escape'){
      exitPresentation();
    }
  }
})();
</script>