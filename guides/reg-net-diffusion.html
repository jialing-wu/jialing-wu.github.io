---
layout: methods-guide
title: "Network Diffusion: Mathematical Models"
title_zh: "网络扩散：数学模型"
parent_title: "Network Analysis"
parent_title_zh: "网络分析"
parent_url: "reg-network.html"
bilingual: true
mathjax: true
---

<h2>
  <span data-lang="en">SIR Model on Networks</span>
  <span data-lang="zh">网络上的SIR模型</span>
</h2>

<p data-lang="en">
The classic epidemiological SIR (Susceptible-Infected-Recovered) model partitions the population into three compartments. In the mean-field approximation, the dynamics are governed by:
</p>

<p data-lang="zh">
经典流行病学SIR（易感-感染-恢复）模型将种群分为三个区间。在平均场近似下，动力学由以下方程控制：
</p>

<div class="math-note">
<strong>Mean-field SIR equations:</strong>
<br/>dS/dt = −βSI
<br/>dI/dt = βSI − γI
<br/>dR/dt = γI
</div>

<p data-lang="en">
where β is the transmission rate, γ is the recovery rate, and S, I, R are fractions of susceptible, infected, and recovered individuals. The basic reproduction number is:
</p>

<p data-lang="zh">
其中β是传播率，γ是恢复率，S、I、R分别为易感、感染和恢复个体的比例。基本再生数为：
</p>

<div class="math-note">
R₀ = β/γ
</div>

<p data-lang="en">
This represents the expected number of secondary infections generated by a single infected individual in an entirely susceptible population. An epidemic occurs when R₀ > 1.
</p>

<p data-lang="zh">
这表示单个感染个体在完全易感种群中产生的预期二次感染数。当R₀ > 1时发生流行病。
</p>

<h3>
  <span data-lang="en">Network Version: Heterogeneous Mean-Field</span>
  <span data-lang="zh">网络版本：异质平均场</span>
</h3>

<p data-lang="en">
When transmission occurs on a network, the dynamics depend critically on the degree distribution. Let I<sub>k</sub> denote the density of infected individuals with degree k. The heterogeneous mean-field approximation yields:
</p>

<p data-lang="zh">
当传播发生在网络上时，动力学取决于度分布。令I<sub>k</sub>表示度数为k的感染个体密度。异质平均场近似给出：
</p>

<div class="math-note">
dI<sub>k</sub>/dt = −γI<sub>k</sub> + β k S<sub>k</sub> Θ
</div>

<p data-lang="en">
where Θ is the probability that a randomly chosen edge connects to an infected node:
</p>

<p data-lang="zh">
其中Θ是随机选择的边连接到感染节点的概率：
</p>

<div class="math-note">
Θ = (Σ<sub>k'</sub> k' P(k') I<sub>k'</sub>) / ⟨k⟩
</div>

<p data-lang="en">
Here P(k) is the degree distribution and ⟨k⟩ is the mean degree. The key insight is that high-degree nodes are more likely to be infected and to transmit the infection to many neighbors.
</p>

<p data-lang="zh">
这里P(k)是度分布，⟨k⟩是平均度数。关键是高度数节点更容易被感染，也更容易将感染传播给许多邻居。
</p>

<h3>
  <span data-lang="en">Epidemic Threshold on Networks</span>
  <span data-lang="zh">网络上的流行病阈值</span>
</h3>

<p data-lang="en">
A fundamental result by Pastor-Satorras and Vespignani (2001) establishes the epidemic threshold on networks. An epidemic persists (i.e., does not vanish) when:
</p>

<p data-lang="zh">
Pastor-Satorras和Vespignani (2001)的一个基本结果建立了网络上的流行病阈值。当流行病持续存在（即不消退）的条件为：
</p>

<div class="math-note">
β/γ > ⟨k⟩/⟨k²⟩
</div>

<p data-lang="en">
where ⟨k²⟩ is the second moment of the degree distribution. This threshold is remarkably different from mean-field epidemiology. For random networks, ⟨k²⟩ is finite, so a non-trivial threshold exists. However, for scale-free networks where P(k) ∝ k<sup>−α</sup> with α ≤ 3, we have ⟨k²⟩ → ∞, which means the threshold vanishes: β/γ > 0. In other words, even arbitrarily weak transmission can sustain an epidemic on scale-free networks.
</p>

<p data-lang="zh">
其中⟨k²⟩是度分布的二阶矩。这个阈值与平均场流行病学显著不同。对于随机网络，⟨k²⟩是有限的，因此存在一个非平凡的阈值。然而，对于无标度网络（其中P(k) ∝ k<sup>−α</sup>，α ≤ 3），我们有⟨k²⟩ → ∞，这意味着阈值消失：β/γ > 0。换句话说，即使是任意弱的传播也可以在无标度网络上维持流行病。
</p>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">Threshold Models and Cascades</span>
  <span data-lang="zh">阈值模型与级联</span>
</h2>

<p data-lang="en">
Granovetter's threshold model is a foundational framework for understanding social adoption and diffusion. Each agent i has an exogenous threshold θ<sub>i</sub> ∈ [0, 1], representing the fraction of neighbors that must adopt before the agent adopts.
</p>

<p data-lang="zh">
Granovetter的阈值模型是理解社会采纳和扩散的基础框架。每个代理i有一个外生阈值θ<sub>i</sub> ∈ [0, 1]，表示在代理采纳之前必须采纳的邻居比例。
</p>

<h3>
  <span data-lang="en">Formal Definition</span>
  <span data-lang="zh">正式定义</span>
</h3>

<p data-lang="en">
Let A(t) denote the set of adopted nodes at time t, and let N<sub>i</sub> denote the neighbors of node i. The adoption rule is:
</p>

<p data-lang="zh">
令A(t)表示时刻t时的已采纳节点集合，N<sub>i</sub>表示节点i的邻居。采纳规则为：
</p>

<div class="math-note">
i ∈ A(t+1) if |A(t) ∩ N<sub>i</sub>| / |N<sub>i</sub>| ≥ θ<sub>i</sub>
</div>

<p data-lang="en">
The key question is: under what conditions does a small initial seed of adopted nodes trigger a global cascade (full adoption)?
</p>

<p data-lang="zh">
关键问题是：在什么条件下，一小群初始采纳节点会触发全局级联（完全采纳）？
</p>

<h3>
  <span data-lang="en">Cascade Condition</span>
  <span data-lang="zh">级联条件</span>
</h3>

<p data-lang="en">
Define the cascade region as follows. Suppose all agents have identical threshold θ. A cascade occurs if the initial seed set S activates a growing wave of adoptions. The critical insight is that the cascade depends on both the threshold θ and the degree distribution P(k).
</p>

<p data-lang="zh">
定义级联区域如下。假设所有代理都有相同的阈值θ。如果初始种子集合S激活持续增长的采纳波，就会发生级联。关键洞察是级联取决于阈值θ和度分布P(k)。
</p>

<p data-lang="en">
A key result due to Watts (2002) shows that cascades are most likely in networks with intermediate connectivity. Very sparse networks lack sufficient exposure, while very dense networks are too clustered. The cascade window is widest when the network has a balance between connectivity and clustering.
</p>

<p data-lang="zh">
Watts (2002)的一个关键结果表明级联最可能出现在连接性中等的网络中。非常稀疏的网络缺乏足够的暴露，而非常密集的网络聚类过度。当网络在连接性和聚类之间达到平衡时，级联窗口最宽。
</p>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">Linear Threshold vs. Independent Cascade</span>
  <span data-lang="zh">线性阈值模型与独立级联模型</span>
</h2>

<p data-lang="en">
Two canonical models dominate diffusion research: the linear threshold model and the independent cascade model.
</p>

<p data-lang="zh">
两个规范模型主导扩散研究：线性阈值模型和独立级联模型。
</p>

<h3>
  <span data-lang="en">Linear Threshold Model</span>
  <span data-lang="zh">线性阈值模型</span>
</h3>

<p data-lang="en">
In the linear threshold model, each node i has a threshold θ<sub>i</sub> and a set of influence weights w<sub>ji</sub> from neighbors j. Node i adopts when:
</p>

<p data-lang="zh">
在线性阈值模型中，每个节点i有一个阈值θ<sub>i</sub>和来自邻居j的影响权重w<sub>ji</sub>。当以下条件满足时，节点i采纳：
</p>

<div class="math-note">
Σ<sub>j ∈ A(t)</sub> w<sub>ji</sub> ≥ θ<sub>i</sub>
</div>

<p data-lang="en">
This is a deterministic model: given a network, weights, and thresholds, the outcome is fully determined. Adoption is monotone—once adopted, a node stays adopted.
</p>

<p data-lang="zh">
这是一个确定性模型：给定网络、权重和阈值，结果完全确定。采纳是单调的——一旦采纳，节点就保持采纳状态。
</p>

<h3>
  <span data-lang="en">Independent Cascade Model</span>
  <span data-lang="zh">独立级联模型</span>
</h3>

<p data-lang="en">
The independent cascade model is probabilistic. When a node j becomes adopted at time t, it has a single chance to activate each inactive neighbor i with probability p<sub>ji</sub>. If it succeeds, i becomes adopted; if it fails, j never attempts to activate i again.
</p>

<p data-lang="zh">
独立级联模型是随机性的。当节点j在时刻t被采纳时，它有一次机会以概率p<sub>ji</sub>激活每个非活跃邻居i。如果成功，i被采纳；如果失败，j永远不会再尝试激活i。
</p>

<p data-lang="en">
This model is frequently used in viral marketing and influence maximization because it naturally captures the notion that repeated exposure may not increase influence. The two models have different use cases: linear threshold better models social conformity, while independent cascade better models information diffusion through media.
</p>

<p data-lang="zh">
此模型经常用于病毒营销和影响力最大化，因为它自然地捕捉了重复暴露可能不会增加影响力的观点。两个模型有不同的用例：线性阈值更好地模拟社会从众，而独立级联更好地模拟通过媒体的信息扩散。
</p>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">Information Cascades and Bayesian Learning</span>
  <span data-lang="zh">信息级联与贝叶斯学习</span>
</h2>

<p data-lang="en">
Information cascades arise when agents observe both a private signal and the actions of predecessors, then must decide which choice to make. The analysis reveals a surprising phenomenon: agents eventually ignore their private information and follow the crowd.
</p>

<p data-lang="zh">
当代理观察私有信号和前任的行动，然后必须决定采取哪种选择时，信息级联出现。分析揭示了一个令人惊讶的现象：代理最终会忽视他们的私有信息并跟随人群。
</p>

<h3>
  <span data-lang="en">Setup and Cascade Formation</span>
  <span data-lang="zh">设置与级联形成</span>
</h3>

<p data-lang="en">
Suppose there are two states of the world, A and B, with prior probability 1/2 each. Agent t observes:
</p>

<p data-lang="zh">
假设有两种世界状态，A和B，先验概率各为1/2。代理t观察：
</p>

<ul style="margin-left: 2rem;">
  <li data-lang="en">A private signal s<sub>t</sub> ∈ {A, B}, correct with probability p > 1/2</li>
  <li data-lang="zh">私有信号s<sub>t</sub> ∈ {A, B}，以概率p > 1/2正确</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">The actions a₁, a₂, …, a<sub>t−1</sub> of all predecessors</li>
  <li data-lang="zh">所有前任的行动a₁, a₂, …, a<sub>t−1</sub></li>
</ul>

<p data-lang="en">
Agent t rationally chooses the action with highest posterior probability given all observations. The key insight: if the first k agents all choose A, the posterior probability of state A is:
</p>

<p data-lang="zh">
代理t理性地选择给定所有观察中后验概率最高的行动。关键洞察：如果前k个代理都选择A，状态A的后验概率为：
</p>

<div class="math-note">
P(state = A | first k chose A) = p<sup>k</sup> / [p<sup>k</sup> + (1−p)<sup>k</sup>]
</div>

<p data-lang="en">
As k grows, this probability approaches 1 even if agent t's private signal favors B. Thus a cascade forms: once enough predecessors agree, subsequent agents ignore their signals and simply imitate.
</p>

<p data-lang="zh">
当k增长时，即使代理t的私有信号偏向B，这个概率也接近1。因此形成级联：一旦足够多的前任同意，后续代理就忽视他们的信号并简单地模仿。
</p>

<h3>
  <span data-lang="en">Fragility of Cascades</span>
  <span data-lang="zh">级联的脆弱性</span>
</h3>

<p data-lang="en">
A remarkable property of information cascades is their fragility. A small perturbation—such as a single highly credible agent publically disagreeing with the cascade—can shatter it. Once broken, the cascade may reverse completely. This fragility explains why information cascades are common in markets but vulnerable to disruptive events or new credible information.
</p>

<p data-lang="zh">
信息级联的一个显著特性是其脆弱性。一个小的扰动——例如单个高度可信的代理公开不同意级联——可以打破它。一旦破裂，级联可能完全逆转。这种脆弱性解释了为什么信息级联在市场中常见但易受颠覆性事件或新的可信信息影响。
</p>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">Network Topology and Diffusion Speed</span>
  <span data-lang="zh">网络拓扑与扩散速度</span>
</h2>

<p data-lang="en">
The structure of the network fundamentally shapes how fast information and behaviors diffuse. Three key topological properties affect diffusion:
</p>

<p data-lang="zh">
网络的结构从根本上影响信息和行为扩散的速度。三个关键拓扑属性影响扩散：
</p>

<h3>
  <span data-lang="en">Degree Distribution</span>
  <span data-lang="zh">度分布</span>
</h3>

<p data-lang="en">
Networks with high variance in degree (heterogeneous networks) transmit faster than homogeneous networks. Hubs—high-degree nodes—are both infected early and infect many others rapidly. This is why epidemics on scale-free networks (power-law degree distribution) are particularly fast and hard to control.
</p>

<p data-lang="zh">
度方差大的网络（异质网络）比同质网络传播得快。枢纽——高度数节点——既被早期感染，也快速感染许多其他节点。这就是为什么无标度网络（幂律度分布）上的流行病特别快且难以控制。
</p>

<h3>
  <span data-lang="en">Clustering Coefficient</span>
  <span data-lang="zh">聚类系数</span>
</h3>

<p data-lang="en">
The clustering coefficient C measures the fraction of triangles in the network: C = (number of triangles) / (number of connected triples). High clustering creates redundant paths; if many of your neighbors are also neighbors with each other, you hear information multiple times. This slows diffusion because each channel carries correlated information. Networks with low clustering (like random graphs) have longer effective distances between nodes, yet diffuse faster because information spreads through diverse, non-overlapping paths.
</p>

<p data-lang="zh">
聚类系数C测量网络中三角形的比例：C = （三角形数量）/（连接三元组数量）。高聚类创建冗余路径；如果你的许多邻居也彼此是邻居，你会多次听到信息。这会减慢扩散，因为每条通道携带相关信息。具有低聚类的网络（如随机图）在节点之间有更长的有效距离，但通过多样化的、非重叠的路径扩散信息更快。
</p>

<h3>
  <span data-lang="en">Small-World Properties</span>
  <span data-lang="zh">小世界特性</span>
</h3>

<p data-lang="en">
The Watts-Strogatz model captures small-world networks: graphs that combine high clustering (like lattices) with short path lengths (like random graphs). Small-world networks are highly efficient for diffusion because information can "jump" across the network via rare long-range edges while benefiting from local clustering for dense neighborhood effects.
</p>

<p data-lang="zh">
Watts-Strogatz模型捕捉小世界网络：同时具有高聚类（如格子）和短路径长度（如随机图）的图。小世界网络对扩散高度有效，因为信息可以通过稀有的长程边在网络中"跳跃"，同时从局部聚类中受益以获得密集的邻域效应。
</p>

<h3>
  <span data-lang="en">Comparative Summary</span>
  <span data-lang="zh">比较总结</span>
</h3>

<ul style="margin-left: 2rem;">
  <li data-lang="en"><strong>Random Networks:</strong> Moderate clustering, short path length, balanced diffusion speed</li>
  <li data-lang="zh"><strong>随机网络：</strong>适度聚类，短路径长度，平衡的扩散速度</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en"><strong>Scale-free Networks:</strong> Low clustering, power-law degree distribution, very fast diffusion due to hubs, low epidemic threshold</li>
  <li data-lang="zh"><strong>无标度网络：</strong>低聚类，幂律度分布，由于枢纽扩散非常快，流行病阈值低</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en"><strong>Small-World Networks:</strong> High clustering + short path length, optimal balance for efficient diffusion</li>
  <li data-lang="zh"><strong>小世界网络：</strong>高聚类+短路径长度，有效扩散的最优平衡</li>
</ul>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">R Simulations: SIR on Networks and Threshold Cascades</span>
  <span data-lang="zh">R模拟：网络上的SIR和阈值级联</span>
</h2>

<p data-lang="en">
The following R code simulates both the SIR model on a network and a threshold model cascade using the igraph package. These simulations help visualize how topology influences diffusion dynamics.
</p>

<p data-lang="zh">
以下R代码使用igraph包模拟网络上的SIR模型和阈值模型级联。这些模拟有助于可视化拓扑如何影响扩散动力学。
</p>

<h3>
  <span data-lang="en">SIR Model Simulation</span>
  <span data-lang="zh">SIR模型模拟</span>
</h3>

<pre style="background: var(--ink); color: var(--cream); padding: 1.5rem; border-radius: 0.5rem; overflow-x: auto; font-size: 0.85em; line-height: 1.4;">
library(igraph)

# Generate a network (scale-free, random, or small-world)
n <- 100
g <- barabasi.game(n, m = 2)  # Scale-free network

# Parameters
beta <- 0.3    # Transmission rate
gamma <- 0.1   # Recovery rate
time_steps <- 100
n_sims <- 50

# Initialize status: 0 = Susceptible, 1 = Infected, 2 = Recovered
run_sir <- function(g, beta, gamma, time_steps) {
  n <- vcount(g)
  status <- rep(0, n)
  status[1] <- 1  # Initial seed

  history <- matrix(0, nrow = time_steps, ncol = 3)
  colnames(history) <- c("S", "I", "R")

  for (t in 1:time_steps) {
    # Count current states
    history[t, ] <- c(sum(status == 0), sum(status == 1), sum(status == 2))

    # Infection step: for each infected node, try to infect neighbors
    infected <- which(status == 1)
    for (i in infected) {
      neighbors <- neighbors(g, i)
      # Susceptible neighbors can be infected
      suscept_neighbors <- neighbors[status[neighbors] == 0]
      new_infections <- runif(length(suscept_neighbors)) < beta
      status[suscept_neighbors[new_infections]] <- 1
    }

    # Recovery step: infected nodes recover with probability gamma
    infected <- which(status == 1)
    recovered <- runif(length(infected)) < gamma
    status[infected[recovered]] <- 2
  }

  return(history)
}

# Run simulations and plot
results <- replicate(n_sims, run_sir(g, beta, gamma, time_steps))
mean_I <- rowMeans(results[, 2, ])

plot(1:time_steps, mean_I, type = "l", xlab = "Time", ylab = "Mean Infected",
     main = "SIR Dynamics on Scale-Free Network", lwd = 2, col = "red")
</pre>

<p data-lang="en">
This code generates a scale-free network using the Barabási-Albert model, runs the SIR dynamics, and plots the mean number of infected individuals over time across multiple simulations.
</p>

<p data-lang="zh">
此代码使用Barabási-Albert模型生成无标度网络，运行SIR动力学，并在多个模拟中绘制感染个体的平均数量随时间的变化。
</p>

<h3>
  <span data-lang="en">Threshold Model Cascade Simulation</span>
  <span data-lang="zh">阈值模型级联模拟</span>
</h3>

<pre style="background: var(--ink); color: var(--cream); padding: 1.5rem; border-radius: 0.5rem; overflow-x: auto; font-size: 0.85em; line-height: 1.4;">
# Threshold model cascade simulation
run_threshold_cascade <- function(g, threshold, seed_nodes) {
  n <- vcount(g)
  adopted <- rep(FALSE, n)
  adopted[seed_nodes] <- TRUE

  history <- list()
  history[[1]] <- adopted
  iteration <- 1

  changed <- TRUE
  while (changed & iteration < 100) {
    changed <- FALSE
    new_adopted <- adopted

    for (i in 1:n) {
      if (!adopted[i]) {
        neighbors <- neighbors(g, i)
        frac_adopted <- sum(adopted[neighbors]) / length(neighbors)
        if (frac_adopted >= threshold) {
          new_adopted[i] <- TRUE
          changed <- TRUE
        }
      }
    }

    adopted <- new_adopted
    iteration <- iteration + 1
    history[[iteration]] <- adopted
  }

  return(list(adopted = adopted, iterations = iteration - 1))
}

# Compare cascade outcomes across different thresholds
g <- watts.strogatz.game(1, 100, 5, 0.3)  # Small-world network
thresholds <- c(0.1, 0.2, 0.3, 0.4, 0.5)
seed_size <- 5

cascade_sizes <- sapply(thresholds, function(th) {
  result <- run_threshold_cascade(g, th, sample(1:vcount(g), seed_size))
  sum(result$adopted)
})

plot(thresholds, cascade_sizes, type = "b", xlab = "Threshold",
     ylab = "Final Cascade Size", main = "Cascades on Small-World Network",
     lwd = 2, pch = 19)
</pre>

<p data-lang="en">
This threshold model simulation tests how the adoption threshold affects cascade size on a small-world network. Lower thresholds lead to larger cascades because fewer neighbors need to adopt before triggering further adoption.
</p>

<p data-lang="zh">
此阈值模型模拟测试采纳阈值如何影响小世界网络上的级联大小。较低的阈值导致更大的级联，因为触发进一步采纳之前需要更少的邻居采纳。
</p>

<hr style="margin: 2rem 0; border: none; border-top: 2px solid var(--gold);">

<h2>
  <span data-lang="en">Key Takeaways</span>
  <span data-lang="zh">关键要点</span>
</h2>

<ul style="margin-left: 2rem;">
  <li data-lang="en">Network diffusion combines epidemiology, social dynamics, and information theory</li>
  <li data-lang="zh">网络扩散结合了流行病学、社会动力学和信息论</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">The epidemic threshold on networks differs fundamentally from mean-field predictions, especially for scale-free topologies</li>
  <li data-lang="zh">网络上的流行病阈值从根本上不同于平均场预测，特别是对于无标度拓扑</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">Threshold and cascade models reveal how social structure determines whether a small seed triggers global adoption</li>
  <li data-lang="zh">阈值和级联模型揭示社会结构如何决定一个小种子是否触发全局采纳</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">Information cascades are powerful but fragile; small shocks can reverse them completely</li>
  <li data-lang="zh">信息级联强大但脆弱；小的冲击可以完全逆转它们</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">Network topology (degree distribution, clustering, path length) is the primary determinant of diffusion speed</li>
  <li data-lang="zh">网络拓扑（度分布、聚类、路径长度）是扩散速度的主要决定因素</li>
</ul>

<ul style="margin-left: 2rem;">
  <li data-lang="en">Simulations with igraph enable testing diffusion models on realistic network structures</li>
  <li data-lang="zh">使用igraph的模拟可以在现实网络结构上测试扩散模型</li>
</ul>
